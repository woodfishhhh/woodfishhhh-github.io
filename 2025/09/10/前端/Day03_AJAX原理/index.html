<!DOCTYPE html><html lang="zh-Hans" data-theme="light"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><title>Day03_AJAXåŸç† | æœ¨é±¼çš„é±¼çª</title><noscript>å¼€å¯JavaScriptæ‰èƒ½è®¿é—®æœ¬ç«™å“¦~</noscript><link rel="icon" href="/img/favicon.ico"><link rel="stylesheet" href="/css/index.css?v=3.0.20"><link rel="canonical" href="https://www.woodfishhhh.xyz/2025/09/10/%E5%89%8D%E7%AB%AF/Day03_AJAX%E5%8E%9F%E7%90%86/index.html"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.7.2/css/all.min.css"><!-- Feature-specific CSS--><!-- aplayer--><!-- swiper--><!-- fancybox ui--><!-- katex--><!-- Open Graph--><meta name="description" content="Day03_AJAXåŸç† - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„èœ•å˜ ğŸš—âš™ï¸ğŸ¬ å¼€åœºæ•…äº‹ï¼šè€å¸æœºçš„å›°æƒ‘**å°å¼ æ˜¯ä¸€åä¼˜ç§€çš„å‰ç«¯â€å¸æœºâ€**ï¼Œä»–å·²ç»èƒ½ç†Ÿç»ƒåœ°ä½¿ç”¨axiosåœ¨å„ä¸ªâ€è·¯æ®µâ€ä¸Šé©°éª‹ï¼š 1234&amp;#x2F;&amp;#x2F; å°å¼ çš„æ—¥å¸¸ï¼šå¼€è½¦å¾ˆç†Ÿç»ƒï¼Œä½†ä¸æ‡‚å‘åŠ¨æœºåŸç†axios.get(&amp;#x27;&amp;#x2F;api&amp;#x2F;data&amp;#x27;).t"><!-- pwa--><meta name="apple-mobile-web-app-capable" content="æœ¨é±¼çš„é±¼çª"><meta name="theme-color" content="var(--efu-main)"><meta name="apple-mobile-web-app-status-bar-style" content="var(--efu-main)"><link rel="bookmark" href="/img/favicon.ico"><link rel="apple-touch-icon" href="/img/favicon.ico" sizes="180x180"><script>console.log(' %c Solitude %c ' + '3.0.20' + ' %c https://github.com/everfu/hexo-theme-solitude',
    'background:#35495e ; padding: 1px; border-radius: 3px 0 0 3px;  color: #fff',
    'background:#ff9a9a ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff',
    'background:unset ; padding: 1px; border-radius: 0 3px 3px 0;  color: #fff')
</script><script>(()=>{
        const saveToLocal = {
            set: function setWithExpiry(key, value, ttl) {
                if (ttl === 0)
                    return
                const now = new Date()
                const expiryDay = ttl * 86400000
                const item = {
                    value: value,
                    expiry: now.getTime() + expiryDay
                }
                localStorage.setItem(key, JSON.stringify(item))
            },
            get: function getWithExpiry(key) {
                const itemStr = localStorage.getItem(key)

                if (!itemStr) {
                    return undefined
                }
                const item = JSON.parse(itemStr)
                const now = new Date()

                if (now.getTime() > item.expiry) {
                    localStorage.removeItem(key)
                    return undefined
                }
                return item.value
            }
        };
        window.utils = {
            saveToLocal: saveToLocal,
            getCSS: (url, id = false) => new Promise((resolve, reject) => {
              const link = document.createElement('link')
              link.rel = 'stylesheet'
              link.href = url
              if (id) link.id = id
              link.onerror = reject
              link.onload = link.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                link.onload = link.onreadystatechange = null
                resolve()
              }
              document.head.appendChild(link)
            }),
            getScript: (url, attr = {}) => new Promise((resolve, reject) => {
              const script = document.createElement('script')
              script.src = url
              script.async = true
              script.onerror = reject
              script.onload = script.onreadystatechange = function() {
                const loadState = this.readyState
                if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
                script.onload = script.onreadystatechange = null
                resolve()
              }

              Object.keys(attr).forEach(key => {
                script.setAttribute(key, attr[key])
              })

              document.head.appendChild(script)
            }),
            addGlobalFn: (key, fn, name = false, parent = window) => {
                const globalFn = parent.globalFn || {}
                const keyObj = globalFn[key] || {}

                if (name && keyObj[name]) return

                name = name || Object.keys(keyObj).length
                keyObj[name] = fn
                globalFn[key] = keyObj
                parent.globalFn = globalFn
            },
            addEventListenerPjax: (ele, event, fn, option = false) => {
              ele.addEventListener(event, fn, option)
              utils.addGlobalFn('pjax', () => {
                  ele.removeEventListener(event, fn, option)
              })
            },
            diffDateFormat: (selector) => {
                selector.forEach(item => {
                    const date = new Date(item.getAttribute('datetime') || item.textContent);
                    item.textContent = (date.getMonth() + 1).toString()+'/'+date.getDate().toString();
                });
            },
        }
    })()</script><!-- theme--><script>initTheme = () => {
    let isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
    const cachedMode = utils.saveToLocal.get('theme');
    if (cachedMode === undefined) {
        const nowMode =
            isDarkMode ? 'dark' : 'light'
        document.documentElement.setAttribute('data-theme', nowMode);
    } else {
        document.documentElement.setAttribute('data-theme', cachedMode);
    }
    typeof rm === 'object' && rm.mode(cachedMode === 'dark' && isDarkMode)
}
initTheme()</script><script>const GLOBAL_CONFIG = {
    root: '/',
    algolia: undefined,
    localsearch: undefined,
    runtime: '2023-04-20 00:00:00',
    lazyload: {
        enable: false,
        error: '/img/error_load.avif'
    },
    copyright: false,
    highlight: {"limit":200,"expand":true,"copy":true,"syntax":"highlight.js"},
    randomlink: false,
    lang: {"theme":{"dark":"å·²åˆ‡æ¢è‡³æ·±è‰²æ¨¡å¼","light":"å·²åˆ‡æ¢è‡³æµ…è‰²æ¨¡å¼"},"copy":{"success":"å¤åˆ¶æˆåŠŸ","error":"å¤åˆ¶å¤±è´¥"},"backtop":"è¿”å›é¡¶éƒ¨","time":{"day":"å¤©å‰","hour":"å°æ—¶å‰","just":"åˆšåˆš","min":"åˆ†é’Ÿå‰","month":"ä¸ªæœˆå‰"},"day":" å¤©","f12":"å¼€å‘è€…æ¨¡å¼å·²æ‰“å¼€ï¼Œè¯·éµå¾ªGPLåè®®ã€‚","totalk":"æ— éœ€åˆ é™¤ç©ºè¡Œï¼Œç›´æ¥è¾“å…¥è¯„è®ºå³å¯"},
    aside: {
        state: {
            morning: "âœ¨ æ—©ä¸Šå¥½ï¼Œæ–°çš„ä¸€å¤©å¼€å§‹äº†",
            noon: "ğŸ² åˆé¤æ—¶é—´",
            afternoon: "ğŸŒ ä¸‹åˆå¥½",
            night: "æ—©ç‚¹ä¼‘æ¯",
            goodnight: "æ™šå®‰ ğŸ˜´",
        },
        witty_words: [],
        witty_comment: {
            prefix: 'å¥½ä¹…ä¸è§ï¼Œ',
            back: 'æ¬¢è¿å†æ¬¡å›æ¥ï¼Œ',
        },
    },
    covercolor: {
        enable: false
    },
    comment: false,
    lightbox: 'null',
    right_menu: false,
    translate: {"translateDelay":0,"defaultEncoding":2},
    lure: false,
    expire: false,
};</script><script id="config-diff">var PAGE_CONFIG = {
    is_post: true,
    is_page: false,
    is_home: false,
    page: '',
    toc: true,
    comment: false,
    ai_text: false,
    color: false,
}</script><!-- hexo injector head_end start --><link rel="stylesheet" href="https://www.fomal.cc/static/css/runtime.min.css" media="print" onload="this.media='all'"><!-- hexo injector head_end end --><meta name="generator" content="Hexo 7.3.0"></head><body id="body"><div id="console"><div class="close-btn" onclick="sco.hideConsole()"><i class="solitude fas fa-xmark"></i></div><div class="console-card-group"><div class="console-card-group-right"><div class="console-card tags" onclick="sco.hideConsole()"><div class="card-content"><div class="author-content-item-tips">æ ‡ç­¾</div><div class="author-content-item-title">å¯»æ‰¾æ„Ÿå…´è¶£çš„é¢†åŸŸ</div></div><div class="card-tag-cloud"><a href="/tags/Linux/">Linux<sup>1</sup></a><a href="/tags/Java/">Java<sup>9</sup></a><a href="/tags/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">æœŸæœ«å¤ä¹ <sup>2</sup></a><a href="/tags/CSS/">CSS<sup>15</sup></a><a href="/tags/HTML/">HTML<sup>17</sup></a><a href="/tags/web/">web<sup>11</sup></a><a href="/tags/Ajax/">Ajax<sup>4</sup></a><a href="/tags/JavaScript/">JavaScript<sup>16</sup></a></div></div><div class="console-card history" onclick="sco.hideConsole()"><ul class="card-archive-list"><li class="item"><a href="/archives/2025/11/"><span class="date">2025/11</span><div class="count-group"><span class="count">1</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/2025/10/"><span class="date">2025/10</span><div class="count-group"><span class="count">13</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/2025/09/"><span class="date">2025/09</span><div class="count-group"><span class="count">6</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/2025/08/"><span class="date">2025/08</span><div class="count-group"><span class="count">5</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/2025/07/"><span class="date">2025/07</span><div class="count-group"><span class="count">23</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/2025/06/"><span class="date">2025/06</span><div class="count-group"><span class="count">11</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/2025/05/"><span class="date">2025/05</span><div class="count-group"><span class="count">5</span><span class="unit">ç¯‡</span></div></a></li><li class="item"><a href="/archives/"><span class="date">å…¨éƒ¨æ–‡ç« </span><div class="count-group"><span class="count">64</span><span class="unit">ç¯‡</span></div></a></li></ul></div></div></div><div class="button-group"><div class="console-btn-item"><span class="darkmode_switchbutton" onclick="sco.switchDarkMode()" title="æ˜¼å¤œåˆ‡æ¢"><i class="solitude fas fa-circle-half-stroke"></i></span></div><div class="console-btn-item" id="consoleHideAside"><span class="asideSwitch" onclick="sco.switchHideAside()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><i class="solitude fas fa-arrows-left-right-to-line"></i></span></div></div><div class="console-mask" onclick="sco.hideConsole()"></div></div><div id="sidebar" style="zoom: 1;"><div id="menu-mask" style="display: none;"></div><div id="sidebar-menus"><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">æ–‡ç« </div><div class="length-num">64</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">åˆ†ç±»</div><div class="length-num">3</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">æ ‡ç­¾</div><div class="length-num">8</div></a></div></div></div><span class="sidebar-menu-item-title">åŠŸèƒ½</span><div class="sidebar-menu-item"><span class="darkmode_switchbutton menu-child" onclick="sco.switchDarkMode()"><i class="solitude fas fa-circle-half-stroke"></i><span>æ˜¾ç¤ºæ¨¡å¼</span></span></div><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">0</div><div class="back-menu-list"><a class="back-menu-item" href="/p" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">1</div><div class="back-menu-list"><a class="back-menu-item" href="/r" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">2</div><div class="back-menu-list"><a class="back-menu-item" href="/o" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">3</div><div class="back-menu-list"><a class="back-menu-item" href="/j" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">4</div><div class="back-menu-list"><a class="back-menu-item" href="/e" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">5</div><div class="back-menu-list"><a class="back-menu-item" href="/c" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">6</div><div class="back-menu-list"><a class="back-menu-item" href="/t" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">7</div><div class="back-menu-list"><a class="back-menu-item" href="/:" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">8</div><div class="back-menu-list"><a class="back-menu-item" href="#" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">9</div><div class="back-menu-list"><a class="back-menu-item" href="/" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">10</div><div class="back-menu-list"><a class="back-menu-item" href="/n" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">11</div><div class="back-menu-list"><a class="back-menu-item" href="/a" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">12</div><div class="back-menu-list"><a class="back-menu-item" href="/m" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">13</div><div class="back-menu-list"><a class="back-menu-item" href="/e" title="0"><span class="back-menu-item-text">0</span></a></div></div></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/%20%7C%7C%20fas%20fa-home"><span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/tags/%20%7C%7C%20fas%20fa-tags"><span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/%20%7C%7C%20fas%20fa-th"><span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/%20%7C%7C%20fas%20fa-link"><span>å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/%20%7C%7C%20fas%20fa-user"><span>å…³äºæˆ‘</span></a></div></div><span class="sidebar-menu-item-title">æ ‡ç­¾</span><div class="card-tags"><div class="card-tag-cloud"><a href="/tags/Linux/">Linux<sup>1</sup></a><a href="/tags/Java/">Java<sup>9</sup></a><a href="/tags/%E6%9C%9F%E6%9C%AB%E5%A4%8D%E4%B9%A0/">æœŸæœ«å¤ä¹ <sup>2</sup></a><a href="/tags/CSS/">CSS<sup>15</sup></a><a href="/tags/HTML/">HTML<sup>17</sup></a><a href="/tags/web/">web<sup>11</sup></a><a href="/tags/Ajax/">Ajax<sup>4</sup></a><a href="/tags/JavaScript/">JavaScript<sup>16</sup></a></div></div></div></div><div class="post" id="body-wrap"><header class="not-top-img" id="page-header"><nav class="show" id="nav"><div id="nav-group"><div id="blog_name"><div><div class="back-home-button" tabindex="-1"><i class="solitude fas fa-bars-progress"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">0</div><div class="back-menu-list"><a class="back-menu-item" href="/p" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">1</div><div class="back-menu-list"><a class="back-menu-item" href="/r" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">2</div><div class="back-menu-list"><a class="back-menu-item" href="/o" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">3</div><div class="back-menu-list"><a class="back-menu-item" href="/j" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">4</div><div class="back-menu-list"><a class="back-menu-item" href="/e" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">5</div><div class="back-menu-list"><a class="back-menu-item" href="/c" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">6</div><div class="back-menu-list"><a class="back-menu-item" href="/t" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">7</div><div class="back-menu-list"><a class="back-menu-item" href="/:" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">8</div><div class="back-menu-list"><a class="back-menu-item" href="#" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">9</div><div class="back-menu-list"><a class="back-menu-item" href="/" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">10</div><div class="back-menu-list"><a class="back-menu-item" href="/n" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">11</div><div class="back-menu-list"><a class="back-menu-item" href="/a" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">12</div><div class="back-menu-list"><a class="back-menu-item" href="/m" title="0"><span class="back-menu-item-text">0</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">13</div><div class="back-menu-list"><a class="back-menu-item" href="/e" title="0"><span class="back-menu-item-text">0</span></a></div></div></div></div></div><a href="/" title="è¿”å›åšå®¢ä¸»é¡µ" id="site-name"><i class="solitude fas fa-home"></i></a></div><div id="page-name-mask"><div id="page-name"><a id="page-name-text" onclick="sco.toTop()">Day03_AJAXåŸç†</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/%20%7C%7C%20fas%20fa-home"><span>ä¸»é¡µ</span></a></div><div class="menus_item"><a class="site-page" href="/tags/%20%7C%7C%20fas%20fa-tags"><span>æ ‡ç­¾</span></a></div><div class="menus_item"><a class="site-page" href="/categories/%20%7C%7C%20fas%20fa-th"><span>åˆ†ç±»</span></a></div><div class="menus_item"><a class="site-page" href="/link/%20%7C%7C%20fas%20fa-link"><span>å‹é“¾</span></a></div><div class="menus_item"><a class="site-page" href="/about/%20%7C%7C%20fas%20fa-user"><span>å…³äºæˆ‘</span></a></div></div></div><div id="nav-left"></div><div id="nav-right"><div class="nav-button" id="travellings_button"><a class="site-page" target="_blank" rel="noopener" href="https://www.travellings.cn/go.html" onclick="javascript:travelling()" title=""><i class="solitude fas fa-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºä¸€ç¯‡æ–‡ç« " href="javascript:void(0);"><i class="solitude fas fa-dice-d6"></i></a></div><div class="nav-button" id="nav-totop" onclick="sco.toTop()"><a class="totopbtn"><i class="solitude fas fa-arrow-up"></i><span id="percent">0</span></a></div><div id="toggle-menu"><a class="site-page"><i class="solitude fas fa-bars"></i></a></div></div></div></nav></header><main class="layout" id="content-inner"><div id="post"><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®">åŸåˆ›</a><span class="post-meta-categories"><a class="post-meta-categories" href="/categories/%E5%89%8D%E7%AB%AF/">å‰ç«¯</a></span><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Ajax/"><span class="tags-name tags-punctuation"><i class="solitude fas fa-hashtag"></i>Ajax</span></a></div></div></div></div><h1 class="post-title">Day03_AJAXåŸç†</h1><div id="post-meta"><div class="meta-secondline"></div></div></div><div class="post-radius-bottom"></div><article class="post-content article-container"><h1 id="Day03-AJAXåŸç†-ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„èœ•å˜-ğŸš—âš™ï¸"><a href="#Day03-AJAXåŸç†-ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„èœ•å˜-ğŸš—âš™ï¸" class="headerlink" title="Day03_AJAXåŸç† - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„èœ•å˜ ğŸš—âš™ï¸"></a>Day03_AJAXåŸç† - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„èœ•å˜ ğŸš—âš™ï¸</h1><h2 id="ğŸ¬-å¼€åœºæ•…äº‹ï¼šè€å¸æœºçš„å›°æƒ‘"><a href="#ğŸ¬-å¼€åœºæ•…äº‹ï¼šè€å¸æœºçš„å›°æƒ‘" class="headerlink" title="ğŸ¬ å¼€åœºæ•…äº‹ï¼šè€å¸æœºçš„å›°æƒ‘"></a>ğŸ¬ å¼€åœºæ•…äº‹ï¼šè€å¸æœºçš„å›°æƒ‘</h2><p>**å°å¼ æ˜¯ä¸€åä¼˜ç§€çš„å‰ç«¯â€å¸æœºâ€**ï¼Œä»–å·²ç»èƒ½ç†Ÿç»ƒåœ°ä½¿ç”¨axiosåœ¨å„ä¸ªâ€è·¯æ®µâ€ä¸Šé©°éª‹ï¼š</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°å¼ çš„æ—¥å¸¸ï¼šå¼€è½¦å¾ˆç†Ÿç»ƒï¼Œä½†ä¸æ‡‚å‘åŠ¨æœºåŸç†</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/data&#x27;</span>).<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;åˆ°ç«™äº†ï¼&#x27;</span>, res.<span class="property">data</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p><strong>ä¸€å¤©ï¼Œå°å¼ é‡åˆ°äº†å‡ ä¸ªé—®é¢˜</strong>ï¼š</p>
<ul>
<li>ğŸš¨ <strong>è½¦æŠ›é”šäº†</strong>ï¼šè¯·æ±‚å¤±è´¥ï¼Œä½†ä¸çŸ¥é“å“ªé‡Œå‡ºäº†é—®é¢˜</li>
<li>ğŸ”§ <strong>æƒ³æ”¹è£…è½¦</strong>ï¼šéœ€è¦è‡ªå®šä¹‰è¯·æ±‚åŠŸèƒ½ï¼Œä½†axiosåšä¸åˆ°</li>
<li>ğŸ’¡ <strong>æƒ³å½“å·¥ç¨‹å¸ˆ</strong>ï¼šé¢è¯•è¢«é—®åˆ°â€axiosåº•å±‚åŸç†æ˜¯ä»€ä¹ˆï¼Ÿâ€</li>
</ul>
<p><strong>è¿™æ—¶ï¼Œå°å¼ æ„è¯†åˆ°</strong>ï¼šåªä¼šâ€å¼€è½¦â€ä¸å¤Ÿï¼Œè¿˜è¦æ‡‚â€å‘åŠ¨æœºåŸç†â€ï¼</p>
<hr>
<h2 id="ğŸ¯-æœ¬èŠ‚è¯¾ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ"><a href="#ğŸ¯-æœ¬èŠ‚è¯¾ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ğŸ¯ æœ¬èŠ‚è¯¾ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ"></a>ğŸ¯ æœ¬èŠ‚è¯¾ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ</h2><h3 id="ğŸ†-å­¦ä¹ ç›®æ ‡ï¼šä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„è¿›é˜¶"><a href="#ğŸ†-å­¦ä¹ ç›®æ ‡ï¼šä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„è¿›é˜¶" class="headerlink" title="ğŸ† å­¦ä¹ ç›®æ ‡ï¼šä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„è¿›é˜¶"></a>ğŸ† å­¦ä¹ ç›®æ ‡ï¼šä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„è¿›é˜¶</h3><table>
<thead>
<tr>
<th>å­¦ä¹ é˜¶æ®µ</th>
<th>æŒæ¡æŠ€èƒ½</th>
<th>èŒä¸šä»·å€¼</th>
<th>è–ªèµ„å½±å“</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ğŸš— å¸æœºçº§</strong></td>
<td>ç†Ÿç»ƒä½¿ç”¨axios</td>
<td>åŸºç¡€å¼€å‘</td>
<td>+0%</td>
</tr>
<tr>
<td><strong>ğŸ”§ ä¿®ç†å·¥çº§</strong></td>
<td>ç†è§£XHR+PromiseåŸç†</td>
<td>é—®é¢˜æ’æŸ¥</td>
<td>+20%</td>
</tr>
<tr>
<td><strong>âš™ï¸ å·¥ç¨‹å¸ˆçº§</strong></td>
<td>èƒ½å°è£…è‡ªå·±çš„AJAXåº“</td>
<td>æŠ€æœ¯åˆ›æ–°</td>
<td>+50%</td>
</tr>
</tbody></table>
<h3 id="ğŸš€-è¯¾ç¨‹æ”¶è·"><a href="#ğŸš€-è¯¾ç¨‹æ”¶è·" class="headerlink" title="ğŸš€ è¯¾ç¨‹æ”¶è·"></a>ğŸš€ è¯¾ç¨‹æ”¶è·</h3><ul>
<li>âœ… <strong>å‘åŠ¨æœºæ‹†è§£</strong>ï¼šå½»åº•ç†è§£XHRå·¥ä½œåŸç†ï¼ˆå†ä¹Ÿä¸æ€•æŠ›é”šï¼‰</li>
<li>âœ… <strong>å˜é€Ÿç®±åŸç†</strong>ï¼šæŒæ¡Promiseå¼‚æ­¥æœºåˆ¶ï¼ˆæ¢æŒ¡æ›´é¡ºç•…ï¼‰</li>
<li>âœ… <strong>æ•´è½¦åˆ¶é€ </strong>ï¼šäº²æ‰‹å°è£…ä¼ä¸šçº§AJAXåº“ï¼ˆä»å¸æœºå˜å·¥ç¨‹å¸ˆï¼‰</li>
<li>âœ… <strong>æ•…éšœè¯Šæ–­</strong>ï¼šå­¦ä¼šè°ƒè¯•ç½‘ç»œè¯·æ±‚ï¼ˆæˆä¸ºAJAXä¿®ç†ä¸“å®¶ï¼‰</li>
</ul>
<h2 id="ğŸ“š-å­¦å‰å‡†å¤‡-å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯-ğŸ­"><a href="#ğŸ“š-å­¦å‰å‡†å¤‡-å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯-ğŸ­" class="headerlink" title="ğŸ“š å­¦å‰å‡†å¤‡ - å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ ğŸ­"></a>ğŸ“š å­¦å‰å‡†å¤‡ - å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ ğŸ­</h2><h3 id="ğŸ¯-2-1-å·¥ç¨‹å¸ˆ-vs-å¸æœº-æ€ç»´è½¬å˜æ£€æµ‹"><a href="#ğŸ¯-2-1-å·¥ç¨‹å¸ˆ-vs-å¸æœº-æ€ç»´è½¬å˜æ£€æµ‹" class="headerlink" title="ğŸ¯ 2.1 å·¥ç¨‹å¸ˆ vs å¸æœº - æ€ç»´è½¬å˜æ£€æµ‹"></a>ğŸ¯ 2.1 å·¥ç¨‹å¸ˆ vs å¸æœº - æ€ç»´è½¬å˜æ£€æµ‹</h3><blockquote>
<p>ğŸ“Š <strong>ä¼ä¸šè°ƒç ”æ˜¾ç¤º</strong>ï¼šæŒæ¡åŸç†çš„å·¥ç¨‹å¸ˆï¼Œ<strong>è–ªèµ„å¹³å‡é«˜30%<strong>ï¼Œ</strong>æ™‹å‡é€Ÿåº¦å¿«50%</strong></p>
</blockquote>
<h4 id="ğŸ†-æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰"><a href="#ğŸ†-æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰" class="headerlink" title="ğŸ† æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰"></a>ğŸ† æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰</h4><p><strong>ğŸš— å¸æœºçº§ï¼ˆå½“å‰ï¼‰- ä¼šç”¨å·¥å…·</strong></p>
<ul>
<li>âœ… ä¼šå¼€axiosè¿™è¾†è½¦ï¼ˆDay01æŒæ¡ï¼‰</li>
<li>âœ… çŸ¥é“åŠ æ²¹ç«™åœ¨å“ªï¼ˆèƒ½æ‰¾åˆ°APIæ–‡æ¡£ï¼‰</li>
<li>âŒ è½¦åäº†ä¸ä¼šä¿®ï¼ˆè¯·æ±‚å¤±è´¥ä¸ä¼šæ’æŸ¥ï¼‰</li>
<li>âŒ æƒ³æ”¹è£…ä¸ä¼šæ”¹ï¼ˆéœ€è¦è‡ªå®šä¹‰åŠŸèƒ½æŸæ‰‹æ— ç­–ï¼‰</li>
</ul>
<p><strong>ğŸ”§ ä¿®ç†å·¥çº§ï¼ˆç›®æ ‡ï¼‰- æ‡‚åŸç†</strong></p>
<ul>
<li>âœ… å‘åŠ¨æœºæœ‰é—®é¢˜èƒ½è¯Šæ–­ï¼ˆXHRé”™è¯¯èƒ½å®šä½ï¼‰</li>
<li>âœ… å˜é€Ÿç®±ä¼šç»´ä¿®ï¼ˆPromiseå¼‚æ­¥èƒ½è°ƒè¯•ï¼‰</li>
<li>âœ… ç®€å•æ”¹è£…èƒ½å®Œæˆï¼ˆèƒ½å°è£…åŸºç¡€åŠŸèƒ½ï¼‰</li>
<li>âœ… é¢è¯•é—®é¢˜èƒ½å›ç­”ï¼ˆåŸç†æ€§é—®é¢˜èƒ½å¯¹ç­”ï¼‰</li>
</ul>
<p><strong>âš™ï¸ å·¥ç¨‹å¸ˆçº§ï¼ˆç»ˆæï¼‰- èƒ½åˆ›é€ </strong></p>
<ul>
<li>âœ… èƒ½é€ ä¸€è¾†æ–°è½¦ï¼ˆå°è£…ä¼ä¸šçº§AJAXåº“ï¼‰</li>
<li>âœ… èƒ½è®¾è®¡æ–°åŠŸèƒ½ï¼ˆè‡ªå®šä¹‰é«˜çº§ç‰¹æ€§ï¼‰</li>
<li>âœ… èƒ½ä¼˜åŒ–æ€§èƒ½ï¼ˆè¯·æ±‚é€Ÿåº¦ã€é”™è¯¯å¤„ç†ï¼‰</li>
<li>âœ… èƒ½æŒ‡å¯¼ä»–äººï¼ˆæˆä¸ºå›¢é˜ŸæŠ€æœ¯ä¸“å®¶ï¼‰</li>
</ul>
<h4 id="ğŸ§ª-å·¥ç¨‹å¸ˆåŸºç¡€èƒ½åŠ›æµ‹è¯•ï¼ˆå¿…é¡»è¾¾æ ‡ï¼‰"><a href="#ğŸ§ª-å·¥ç¨‹å¸ˆåŸºç¡€èƒ½åŠ›æµ‹è¯•ï¼ˆå¿…é¡»è¾¾æ ‡ï¼‰" class="headerlink" title="ğŸ§ª å·¥ç¨‹å¸ˆåŸºç¡€èƒ½åŠ›æµ‹è¯•ï¼ˆå¿…é¡»è¾¾æ ‡ï¼‰"></a>ğŸ§ª å·¥ç¨‹å¸ˆåŸºç¡€èƒ½åŠ›æµ‹è¯•ï¼ˆå¿…é¡»è¾¾æ ‡ï¼‰</h4><p><strong>é¢˜ç›®1ï¼šHTTPçŠ¶æ€ç è¯†åˆ«ï¼ˆå·¥ç¨‹å¸ˆå¿…å¤‡ï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ çŸ¥é“è¿™äº›çŠ¶æ€ç çš„å«ä¹‰å—ï¼Ÿ</span></span><br><span class="line"><span class="keyword">const</span> statusCodes = &#123;</span><br><span class="line">  <span class="number">200</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// æˆåŠŸ</span></span><br><span class="line">  <span class="number">404</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// æœªæ‰¾åˆ°</span></span><br><span class="line">  <span class="number">500</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// æœåŠ¡å™¨é”™è¯¯</span></span><br><span class="line">  <span class="number">403</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// ç¦æ­¢è®¿é—®</span></span><br><span class="line">  <span class="number">301</span>: <span class="string">&#x27;_____&#x27;</span>   <span class="comment">// æ°¸ä¹…é‡å®šå‘</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<details>
<summary>ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> statusCodes = &#123;</span><br><span class="line">  <span class="number">200</span>: <span class="string">&#x27;è¯·æ±‚æˆåŠŸ&#x27;</span>,      <span class="comment">// âœ… æˆåŠŸ</span></span><br><span class="line">  <span class="number">404</span>: <span class="string">&#x27;èµ„æºæœªæ‰¾åˆ°&#x27;</span>,    <span class="comment">// âŒ æœªæ‰¾åˆ°</span></span><br><span class="line">  <span class="number">500</span>: <span class="string">&#x27;æœåŠ¡å™¨å†…éƒ¨é”™è¯¯&#x27;</span>, <span class="comment">// ğŸ”¥ æœåŠ¡å™¨é”™è¯¯</span></span><br><span class="line">  <span class="number">403</span>: <span class="string">&#x27;ç¦æ­¢è®¿é—®&#x27;</span>,      <span class="comment">// ğŸ”’ ç¦æ­¢è®¿é—®</span></span><br><span class="line">  <span class="number">301</span>: <span class="string">&#x27;æ°¸ä¹…é‡å®šå‘&#x27;</span>     <span class="comment">// â†—ï¸ æ°¸ä¹…é‡å®šå‘</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</details>

<p><strong>é¢˜ç›®2ï¼šå¼‚æ­¥ç¼–ç¨‹ç†è§£ï¼ˆæ ¸å¿ƒæ¦‚å¿µï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ èƒ½é¢„æµ‹è¿™äº›ä»£ç çš„æ‰§è¡Œé¡ºåºå—ï¼Ÿ</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥‡ ç¬¬ä¸€åï¼šåŒæ­¥ä»£ç &#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥‰ ç¬¬ä¸‰åï¼šå®šæ—¶å™¨ï¼ˆ0ç§’ï¼‰&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥ˆ ç¬¬äºŒåï¼šPromise&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥‡ ç¬¬ä¸€åï¼šå¦ä¸€ä¸ªåŒæ­¥ä»£ç &#x27;</span>);</span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåºæ˜¯ï¼šï¼Ÿï¼Ÿï¼Ÿ</span></span><br></pre></td></tr></table></figure>

<details>
<summary>ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºé¡ºåºï¼š</span><br><span class="line">1. ğŸ¥‡ ç¬¬ä¸€åï¼šåŒæ­¥ä»£ç </span><br><span class="line">2. ğŸ¥‡ ç¬¬ä¸€åï¼šå¦ä¸€ä¸ªåŒæ­¥ä»£ç   </span><br><span class="line">3. ğŸ¥ˆ ç¬¬äºŒåï¼šPromise</span><br><span class="line">4. ğŸ¥‰ ç¬¬ä¸‰åï¼šå®šæ—¶å™¨ï¼ˆ0ç§’ï¼‰</span><br><span class="line"></span><br><span class="line">ğŸ’¡ åŸç†ï¼šåŒæ­¥ â†’ Promiseå¾®ä»»åŠ¡ â†’ å®šæ—¶å™¨å®ä»»åŠ¡</span><br></pre></td></tr></table></figure>
</details>

<p><strong>é¢˜ç›®3ï¼šç½‘ç»œè¯·æ±‚è°ƒè¯•ï¼ˆå®é™…å·¥ä½œåœºæ™¯ï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚å¤±è´¥äº†ï¼Œä½ å¦‚ä½•æ’æŸ¥ï¼Ÿ</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/books&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æˆåŠŸ&#x27;</span>, res))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ğŸš¨ è¯·æ±‚å¤±è´¥ï¼Œä½ å¦‚ä½•è¯Šæ–­é—®é¢˜ï¼Ÿ</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é”™è¯¯ä¿¡æ¯ï¼š&#x27;</span>, err.<span class="property">message</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;çŠ¶æ€ç ï¼š&#x27;</span>, err.<span class="property">response</span>?.<span class="property">status</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é”™è¯¯æ•°æ®ï¼š&#x27;</span>, err.<span class="property">response</span>?.<span class="property">data</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¯·æ±‚é…ç½®ï¼š&#x27;</span>, err.<span class="property">config</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<details>
<summary>ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ä¸šçº§é”™è¯¯è¯Šæ–­æµç¨‹</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/books&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æˆåŠŸ&#x27;</span>, res))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ğŸ” ç¬¬ä¸€æ­¥ï¼šçœ‹é”™è¯¯ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> (err.<span class="property">response</span>) &#123;</span><br><span class="line">      <span class="comment">// âœ… æœåŠ¡å™¨å“åº”äº†ï¼ˆæœ‰çŠ¶æ€ç ï¼‰</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å™¨è¿”å›é”™è¯¯ï¼š<span class="subst">$&#123;err.response.status&#125;</span>`</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`é”™è¯¯æ¶ˆæ¯ï¼š<span class="subst">$&#123;err.response.data.message&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (err.<span class="property">request</span>) &#123;</span><br><span class="line">      <span class="comment">// âŒ è¯·æ±‚å‘äº†ä½†æ²¡å“åº”ï¼ˆç½‘ç»œé—®é¢˜ï¼‰</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- APIåœ°å€æ˜¯å¦æ­£ç¡®&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// ğŸ’¥ å…¶ä»–é”™è¯¯ï¼ˆé…ç½®é—®é¢˜ï¼‰</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¯·æ±‚é…ç½®é”™è¯¯ï¼š&#x27;</span>, err.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
</details>

<h4 id="ğŸ“Š-æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®"><a href="#ğŸ“Š-æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®" class="headerlink" title="ğŸ“Š æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®"></a>ğŸ“Š æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®</h4><table>
<thead>
<tr>
<th>å½“å‰ç­‰çº§</th>
<th>æŠ€æœ¯èƒ½åŠ›</th>
<th>è–ªèµ„å‚è€ƒ</th>
<th>å­¦ä¹ å»ºè®®</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ğŸ¥‰ åˆçº§</strong></td>
<td>åŸºç¡€è¯­æ³•æŒæ¡</td>
<td>5-8K</td>
<td>é‡ç‚¹å­¦ä¹ XHRåŸç†</td>
</tr>
<tr>
<td><strong>ğŸ¥ˆ ä¸­çº§</strong></td>
<td>èƒ½ç‹¬ç«‹å¼€å‘é¡¹ç›®</td>
<td>8-15K</td>
<td>æ·±å…¥ç†è§£Promiseæœºåˆ¶</td>
</tr>
<tr>
<td><strong>ğŸ¥‡ é«˜çº§</strong></td>
<td>å…·å¤‡æ¶æ„æ€ç»´</td>
<td>15-25K</td>
<td>å­¦ä¹ å°è£…ä¼ä¸šçº§åº“</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>å­¦ä¹ æ‰¿è¯º</strong>ï¼šå®Œæˆæœ¬è¯¾ç¨‹ï¼Œä½ å°†ä»<strong>å¸æœºçº§</strong>æå‡åˆ°<strong>ä¿®ç†å·¥çº§</strong>ï¼Œå…·å¤‡<strong>é—®é¢˜æ’æŸ¥</strong>å’Œ<strong>ç®€å•å®šåˆ¶</strong>èƒ½åŠ›ï¼</p>
</blockquote>
<h3 id="ğŸ”§-2-2-å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡"><a href="#ğŸ”§-2-2-å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡" class="headerlink" title="ğŸ”§ 2.2 å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡"></a>ğŸ”§ 2.2 å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡</h3><h4 id="ğŸ­-ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰"><a href="#ğŸ­-ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰" class="headerlink" title="ğŸ­ ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰"></a>ğŸ­ ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰</h4><p><strong>ğŸ”§ è°ƒè¯•å·¥å…·å¥—è£…ï¼ˆå·¥ç¨‹å¸ˆå¿…å¤‡ï¼‰</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Chrome DevTools - å·¥ç¨‹å¸ˆçº§é…ç½®</span></span><br><span class="line">âœ… Networké¢æ¿ï¼šç›‘æ§æ‰€æœ‰HTTPè¯·æ±‚</span><br><span class="line">  - æŸ¥çœ‹è¯·æ±‚å¤´ã€å“åº”å¤´</span><br><span class="line">  - åˆ†æçŠ¶æ€ç å’Œå“åº”æ—¶é—´</span><br><span class="line">  - æ¨¡æ‹Ÿæ…¢ç½‘ç»œå’Œç¦»çº¿çŠ¶æ€</span><br><span class="line"></span><br><span class="line">âœ… Consoleé¢æ¿ï¼šJavaScriptè°ƒè¯•</span><br><span class="line">  - æ–­ç‚¹è°ƒè¯•å¼‚æ­¥ä»£ç </span><br><span class="line">  - ç›‘æ§PromiseçŠ¶æ€</span><br><span class="line">  - æ€§èƒ½åˆ†æå’Œå†…å­˜æ£€æµ‹</span><br><span class="line"></span><br><span class="line">âœ… Applicationé¢æ¿ï¼šæ•°æ®å­˜å‚¨æŸ¥çœ‹</span><br><span class="line">  - LocalStorageçŠ¶æ€ç›‘æ§</span><br><span class="line">  - SessionStorageæ•°æ®æŸ¥çœ‹</span><br><span class="line">  - Cookieå’Œç¼“å­˜ç®¡ç†</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ› ï¸ ä»£ç å·¥å…·é…ç½®ï¼ˆæå‡æ•ˆç‡ï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// VS Codeæ’ä»¶æ¨èï¼ˆä¼ä¸šçº§å¼€å‘ï¼‰</span></span><br><span class="line">å¿…è£…æ’ä»¶ï¼š</span><br><span class="line">âœ… <span class="title class_">ESLint</span> - ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆä¼ä¸šä»£ç æ ‡å‡†ï¼‰</span><br><span class="line">âœ… <span class="title class_">Prettier</span> - ä»£ç æ ¼å¼åŒ–ï¼ˆå›¢é˜Ÿåä½œï¼‰</span><br><span class="line">âœ… <span class="title class_">Live</span> <span class="title class_">Server</span> - æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ¨¡æ‹ŸçœŸå®ç¯å¢ƒï¼‰</span><br><span class="line">âœ… <span class="variable constant_">REST</span> <span class="title class_">Client</span> - <span class="variable constant_">API</span>æµ‹è¯•ï¼ˆæ¥å£è°ƒè¯•ï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ“Š æ€§èƒ½ç›‘æ§å·¥å…·ï¼ˆå·¥ç¨‹å¸ˆçº§åˆ†æï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ä¸šçº§ï¼šAJAXæ€§èƒ½ç›‘æ§å™¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseAjaxMonitor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">requests</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ‰€æœ‰AJAXè¯·æ±‚</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">originalOpen</span> = <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">originalSend</span> = <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">send</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é‡å†™æ–¹æ³•ä»¥æ”¶é›†æ•°æ®</span></span><br><span class="line">    <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span> = <span class="keyword">function</span>(<span class="params">method, url</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_method</span> = method;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_url</span> = url;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_startTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">originalOpen</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç›‘æ§è¯·æ±‚å®Œæˆ</span></span><br><span class="line">    <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">send</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_endTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_duration</span> = <span class="variable language_">this</span>.<span class="property">_endTime</span> - <span class="variable language_">this</span>.<span class="property">_startTime</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸš€ è¯·æ±‚å®Œæˆï¼š<span class="subst">$&#123;<span class="variable language_">this</span>._method&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>._url&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`â±ï¸ å“åº”æ—¶é—´ï¼š<span class="subst">$&#123;<span class="variable language_">this</span>._duration&#125;</span>ms`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ“Š çŠ¶æ€ç ï¼š<span class="subst">$&#123;<span class="variable language_">this</span>.status&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ’¾ æ•°æ®å¤§å°ï¼š<span class="subst">$&#123;<span class="variable language_">this</span>.responseText.length&#125;</span>å­—ç¬¦`</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">originalSend</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ï¼šè‡ªåŠ¨ç›‘æ§æ‰€æœ‰AJAXè¯·æ±‚</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">EnterpriseAjaxMonitor</span>();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ¯ <strong>ç¯å¢ƒå‡†å¤‡å®Œæˆï¼</strong> ç°åœ¨ä½ æœ‰äº†å·¥ç¨‹å¸ˆçš„ä¸“ä¸šå·¥å…·ï¼Œå‡†å¤‡å¼€å§‹æ¢ç´¢AJAXçš„åº•å±‚åŸç†å§ï¼</p>
</blockquote>
<h2 id="ç¬¬äºŒç« ï¼šæŠ€èƒ½è¿›é˜¶æ£€æµ‹-ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆ-ğŸ§ª"><a href="#ç¬¬äºŒç« ï¼šæŠ€èƒ½è¿›é˜¶æ£€æµ‹-ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆ-ğŸ§ª" class="headerlink" title="ç¬¬äºŒç« ï¼šæŠ€èƒ½è¿›é˜¶æ£€æµ‹ - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆ ğŸ§ª"></a>ç¬¬äºŒç« ï¼šæŠ€èƒ½è¿›é˜¶æ£€æµ‹ - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆ ğŸ§ª</h2><h3 id="ğŸ¯-2-1-å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ï¼ˆHRè®¤å¯çš„æ ‡å‡†ï¼‰"><a href="#ğŸ¯-2-1-å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ï¼ˆHRè®¤å¯çš„æ ‡å‡†ï¼‰" class="headerlink" title="ğŸ¯ 2.1 å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ï¼ˆHRè®¤å¯çš„æ ‡å‡†ï¼‰"></a>ğŸ¯ 2.1 å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ï¼ˆHRè®¤å¯çš„æ ‡å‡†ï¼‰</h3><blockquote>
<p>ğŸ“Š <strong>ä¼ä¸šè°ƒç ”æ˜¾ç¤º</strong>ï¼šæŒæ¡åŸç†çš„å·¥ç¨‹å¸ˆï¼Œ<strong>è–ªèµ„å¹³å‡é«˜30%<strong>ï¼Œ</strong>æ™‹å‡é€Ÿåº¦å¿«50%</strong></p>
</blockquote>
<h4 id="ğŸ†-æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰-1"><a href="#ğŸ†-æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰-1" class="headerlink" title="ğŸ† æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰"></a>ğŸ† æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰</h4><p><strong>ğŸš— å¸æœºçº§ï¼ˆå½“å‰ï¼‰- ä¼šç”¨å·¥å…·</strong></p>
<ul>
<li>âœ… ä¼šå¼€axiosè¿™è¾†è½¦ï¼ˆDay01æŒæ¡ï¼‰</li>
<li>âœ… çŸ¥é“åŠ æ²¹ç«™åœ¨å“ªï¼ˆèƒ½æ‰¾åˆ°APIæ–‡æ¡£ï¼‰</li>
<li>âŒ è½¦åäº†ä¸ä¼šä¿®ï¼ˆè¯·æ±‚å¤±è´¥ä¸ä¼šæ’æŸ¥ï¼‰</li>
<li>âŒ æƒ³æ”¹è£…ä¸ä¼šæ”¹ï¼ˆéœ€è¦è‡ªå®šä¹‰åŠŸèƒ½æŸæ‰‹æ— ç­–ï¼‰</li>
</ul>
<p><strong>ğŸ”§ ä¿®ç†å·¥çº§ï¼ˆç›®æ ‡ï¼‰- æ‡‚åŸç†</strong></p>
<ul>
<li>âœ… å‘åŠ¨æœºæœ‰é—®é¢˜èƒ½è¯Šæ–­ï¼ˆXHRé”™è¯¯èƒ½å®šä½ï¼‰</li>
<li>âœ… å˜é€Ÿç®±ä¼šç»´ä¿®ï¼ˆPromiseå¼‚æ­¥èƒ½è°ƒè¯•ï¼‰</li>
<li>âœ… ç®€å•æ”¹è£…èƒ½å®Œæˆï¼ˆèƒ½å°è£…åŸºç¡€åŠŸèƒ½ï¼‰</li>
<li>âœ… é¢è¯•é—®é¢˜èƒ½å›ç­”ï¼ˆåŸç†æ€§é—®é¢˜èƒ½å¯¹ç­”ï¼‰</li>
</ul>
<p><strong>âš™ï¸ å·¥ç¨‹å¸ˆçº§ï¼ˆç»ˆæï¼‰- èƒ½åˆ›é€ </strong></p>
<ul>
<li>âœ… èƒ½é€ ä¸€è¾†æ–°è½¦ï¼ˆå°è£…ä¼ä¸šçº§AJAXåº“ï¼‰</li>
<li>âœ… èƒ½è®¾è®¡æ–°åŠŸèƒ½ï¼ˆè‡ªå®šä¹‰é«˜çº§ç‰¹æ€§ï¼‰</li>
<li>âœ… èƒ½ä¼˜åŒ–æ€§èƒ½ï¼ˆè¯·æ±‚é€Ÿåº¦ã€é”™è¯¯å¤„ç†ï¼‰</li>
<li>âœ… èƒ½æŒ‡å¯¼ä»–äººï¼ˆæˆä¸ºå›¢é˜ŸæŠ€æœ¯ä¸“å®¶ï¼‰</li>
</ul>
<h4 id="ğŸ¯-2-2-å­¦å‰æŠ€èƒ½æ£€æµ‹ï¼ˆå·¥ç¨‹å¸ˆåŸºç¡€ï¼‰"><a href="#ğŸ¯-2-2-å­¦å‰æŠ€èƒ½æ£€æµ‹ï¼ˆå·¥ç¨‹å¸ˆåŸºç¡€ï¼‰" class="headerlink" title="ğŸ¯ 2.2 å­¦å‰æŠ€èƒ½æ£€æµ‹ï¼ˆå·¥ç¨‹å¸ˆåŸºç¡€ï¼‰"></a>ğŸ¯ 2.2 å­¦å‰æŠ€èƒ½æ£€æµ‹ï¼ˆå·¥ç¨‹å¸ˆåŸºç¡€ï¼‰</h4><p><strong>ğŸ§ª åŸºç¡€èƒ½åŠ›æµ‹è¯•ï¼ˆå¿…é¡»è¾¾æ ‡ï¼‰</strong></p>
<p><strong>é¢˜ç›®1ï¼šHTTPçŠ¶æ€ç è¯†åˆ«ï¼ˆå·¥ç¨‹å¸ˆå¿…å¤‡ï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ çŸ¥é“è¿™äº›çŠ¶æ€ç çš„å«ä¹‰å—ï¼Ÿ</span></span><br><span class="line"><span class="keyword">const</span> statusCodes = &#123;</span><br><span class="line">  <span class="number">200</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// æˆåŠŸ</span></span><br><span class="line">  <span class="number">404</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// æœªæ‰¾åˆ°</span></span><br><span class="line">  <span class="number">500</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// æœåŠ¡å™¨é”™è¯¯</span></span><br><span class="line">  <span class="number">403</span>: <span class="string">&#x27;_____&#x27;</span>,  <span class="comment">// ç¦æ­¢è®¿é—®</span></span><br><span class="line">  <span class="number">301</span>: <span class="string">&#x27;_____&#x27;</span>   <span class="comment">// æ°¸ä¹…é‡å®šå‘</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<details>
<summary>ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> statusCodes = &#123;</span><br><span class="line">  <span class="number">200</span>: <span class="string">&#x27;è¯·æ±‚æˆåŠŸ&#x27;</span>,      <span class="comment">// âœ… æˆåŠŸ</span></span><br><span class="line">  <span class="number">404</span>: <span class="string">&#x27;èµ„æºæœªæ‰¾åˆ°&#x27;</span>,    <span class="comment">// âŒ æœªæ‰¾åˆ°</span></span><br><span class="line">  <span class="number">500</span>: <span class="string">&#x27;æœåŠ¡å™¨å†…éƒ¨é”™è¯¯&#x27;</span>, <span class="comment">// ğŸ”¥ æœåŠ¡å™¨é”™è¯¯</span></span><br><span class="line">  <span class="number">403</span>: <span class="string">&#x27;ç¦æ­¢è®¿é—®&#x27;</span>,      <span class="comment">// ğŸ”’ ç¦æ­¢è®¿é—®</span></span><br><span class="line">  <span class="number">301</span>: <span class="string">&#x27;æ°¸ä¹…é‡å®šå‘&#x27;</span>     <span class="comment">// â†—ï¸ æ°¸ä¹…é‡å®šå‘</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</details>

<p><strong>é¢˜ç›®2ï¼šå¼‚æ­¥ç¼–ç¨‹ç†è§£ï¼ˆæ ¸å¿ƒæ¦‚å¿µï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½ èƒ½é¢„æµ‹è¿™äº›ä»£ç çš„æ‰§è¡Œé¡ºåºå—ï¼Ÿ</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥‡ ç¬¬ä¸€åï¼šåŒæ­¥ä»£ç &#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥‰ ç¬¬ä¸‰åï¼šå®šæ—¶å™¨ï¼ˆ0ç§’ï¼‰&#x27;</span>);</span><br><span class="line">&#125;, <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line"><span class="title class_">Promise</span>.<span class="title function_">resolve</span>().<span class="title function_">then</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥ˆ ç¬¬äºŒåï¼šPromise&#x27;</span>);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¥‡ ç¬¬ä¸€åï¼šå¦ä¸€ä¸ªåŒæ­¥ä»£ç &#x27;</span>);</span><br><span class="line"><span class="comment">// è¾“å‡ºé¡ºåºæ˜¯ï¼šï¼Ÿï¼Ÿï¼Ÿ</span></span><br></pre></td></tr></table></figure>

<details>
<summary>ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">è¾“å‡ºé¡ºåºï¼š</span><br><span class="line">1. ğŸ¥‡ ç¬¬ä¸€åï¼šåŒæ­¥ä»£ç </span><br><span class="line">2. ğŸ¥‡ ç¬¬ä¸€åï¼šå¦ä¸€ä¸ªåŒæ­¥ä»£ç   </span><br><span class="line">3. ğŸ¥ˆ ç¬¬äºŒåï¼šPromise</span><br><span class="line">4. ğŸ¥‰ ç¬¬ä¸‰åï¼šå®šæ—¶å™¨ï¼ˆ0ç§’ï¼‰</span><br><span class="line"></span><br><span class="line">ğŸ’¡ åŸç†ï¼šåŒæ­¥ â†’ Promiseå¾®ä»»åŠ¡ â†’ å®šæ—¶å™¨å®ä»»åŠ¡</span><br></pre></td></tr></table></figure>
</details>

<p><strong>é¢˜ç›®3ï¼šç½‘ç»œè¯·æ±‚è°ƒè¯•ï¼ˆå®é™…å·¥ä½œåœºæ™¯ï¼‰</strong></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯·æ±‚å¤±è´¥äº†ï¼Œä½ å¦‚ä½•æ’æŸ¥ï¼Ÿ</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/books&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æˆåŠŸ&#x27;</span>, res))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ğŸš¨ è¯·æ±‚å¤±è´¥ï¼Œä½ å¦‚ä½•è¯Šæ–­é—®é¢˜ï¼Ÿ</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é”™è¯¯ä¿¡æ¯ï¼š&#x27;</span>, err.<span class="property">message</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;çŠ¶æ€ç ï¼š&#x27;</span>, err.<span class="property">response</span>?.<span class="property">status</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;é”™è¯¯æ•°æ®ï¼š&#x27;</span>, err.<span class="property">response</span>?.<span class="property">data</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¯·æ±‚é…ç½®ï¼š&#x27;</span>, err.<span class="property">config</span>);</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>

<details>
<summary>ğŸ‘€ ç‚¹å‡»æŸ¥çœ‹ç­”æ¡ˆ</summary>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ä¸šçº§é”™è¯¯è¯Šæ–­æµç¨‹</span></span><br><span class="line">axios.<span class="title function_">get</span>(<span class="string">&#x27;/api/books&#x27;</span>)</span><br><span class="line">  .<span class="title function_">then</span>(<span class="function"><span class="params">res</span> =&gt;</span> <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;æˆåŠŸ&#x27;</span>, res))</span><br><span class="line">  .<span class="title function_">catch</span>(<span class="function"><span class="params">err</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// ğŸ” ç¬¬ä¸€æ­¥ï¼šçœ‹é”™è¯¯ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> (err.<span class="property">response</span>) &#123;</span><br><span class="line">      <span class="comment">// âœ… æœåŠ¡å™¨å“åº”äº†ï¼ˆæœ‰çŠ¶æ€ç ï¼‰</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`æœåŠ¡å™¨è¿”å›é”™è¯¯ï¼š<span class="subst">$&#123;err.response.status&#125;</span>`</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`é”™è¯¯æ¶ˆæ¯ï¼š<span class="subst">$&#123;err.response.data.message&#125;</span>`</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (err.<span class="property">request</span>) &#123;</span><br><span class="line">      <span class="comment">// âŒ è¯·æ±‚å‘äº†ä½†æ²¡å“åº”ï¼ˆç½‘ç»œé—®é¢˜ï¼‰</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ç½‘ç»œè¿æ¥å¤±è´¥ï¼Œè¯·æ£€æŸ¥ï¼š&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- APIåœ°å€æ˜¯å¦æ­£ç¡®&#x27;</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- æœåŠ¡å™¨æ˜¯å¦è¿è¡Œ&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// ğŸ’¥ å…¶ä»–é”™è¯¯ï¼ˆé…ç½®é—®é¢˜ï¼‰</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;è¯·æ±‚é…ç½®é”™è¯¯ï¼š&#x27;</span>, err.<span class="property">message</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br></pre></td></tr></table></figure>
</details>

<h4 id="ğŸ“Š-æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®-1"><a href="#ğŸ“Š-æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®-1" class="headerlink" title="ğŸ“Š æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®"></a>ğŸ“Š æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®</h4><table>
<thead>
<tr>
<th>å½“å‰ç­‰çº§</th>
<th>æŠ€æœ¯èƒ½åŠ›</th>
<th>è–ªèµ„å‚è€ƒ</th>
<th>å­¦ä¹ å»ºè®®</th>
</tr>
</thead>
<tbody><tr>
<td><strong>ğŸ¥‰ åˆçº§</strong></td>
<td>åŸºç¡€è¯­æ³•æŒæ¡</td>
<td>5-8K</td>
<td>é‡ç‚¹å­¦ä¹ XHRåŸç†</td>
</tr>
<tr>
<td><strong>ğŸ¥ˆ ä¸­çº§</strong></td>
<td>èƒ½ç‹¬ç«‹å¼€å‘é¡¹ç›®</td>
<td>8-15K</td>
<td>æ·±å…¥ç†è§£Promiseæœºåˆ¶</td>
</tr>
<tr>
<td><strong>ğŸ¥‡ é«˜çº§</strong></td>
<td>å…·å¤‡æ¶æ„æ€ç»´</td>
<td>15-25K</td>
<td>å­¦ä¹ å°è£…ä¼ä¸šçº§åº“</td>
</tr>
</tbody></table>
<blockquote>
<p>ğŸ’¡ <strong>å­¦ä¹ æ‰¿è¯º</strong>ï¼šå®Œæˆæœ¬è¯¾ç¨‹ï¼Œä½ å°†ä»<strong>å¸æœºçº§</strong>æå‡åˆ°<strong>ä¿®ç†å·¥çº§</strong>ï¼Œå…·å¤‡<strong>é—®é¢˜æ’æŸ¥</strong>å’Œ<strong>ç®€å•å®šåˆ¶</strong>èƒ½åŠ›ï¼</p>
</blockquote>
<h3 id="ğŸ”§-2-3-å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡"><a href="#ğŸ”§-2-3-å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡" class="headerlink" title="ğŸ”§ 2.3 å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡"></a>ğŸ”§ 2.3 å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡</h3><h4 id="ğŸ­-ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰-1"><a href="#ğŸ­-ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰-1" class="headerlink" title="ğŸ­ ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰"></a>ğŸ­ ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰</h4><p><strong>ğŸ”§ è°ƒè¯•å·¥å…·å¥—è£…ï¼ˆå·¥ç¨‹å¸ˆå¿…å¤‡ï¼‰</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Chrome DevTools - å·¥ç¨‹å¸ˆçº§é…ç½®</span></span><br><span class="line">âœ… Networké¢æ¿ï¼šç›‘æ§æ‰€æœ‰HTTPè¯·æ±‚</span><br><span class="line">  - æŸ¥çœ‹è¯·æ±‚å¤´ã€å“åº”å¤´</span><br><span class="line">  - åˆ†æçŠ¶æ€ç å’Œå“åº”æ—¶é—´</span><br><span class="line">  - æ¨¡æ‹Ÿæ…¢ç½‘ç»œå’Œç¦»çº¿çŠ¶æ€</span><br><span class="line"></span><br><span class="line">âœ… Consoleé¢æ¿ï¼šJavaScriptè°ƒè¯•</span><br><span class="line">  - æ–­ç‚¹è°ƒè¯•å¼‚æ­¥ä»£ç </span><br><span class="line">  - ç›‘æ§PromiseçŠ¶æ€</span><br><span class="line">  - æ€§èƒ½åˆ†æå’Œå†…å­˜æ£€æµ‹</span><br><span class="line"></span><br><span class="line">âœ… Applicationé¢æ¿ï¼šæ•°æ®å­˜å‚¨æŸ¥çœ‹</span><br><span class="line">  - LocalStorageçŠ¶æ€ç›‘æ§</span><br><span class="line">  - SessionStorageæ•°æ®æŸ¥çœ‹</span><br><span class="line">  - Cookieå’Œç¼“å­˜ç®¡ç†</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ› ï¸ ä»£ç å·¥å…·é…ç½®ï¼ˆæå‡æ•ˆç‡ï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// VS Codeæ’ä»¶æ¨èï¼ˆä¼ä¸šçº§å¼€å‘ï¼‰</span></span><br><span class="line">å¿…è£…æ’ä»¶ï¼š</span><br><span class="line">âœ… <span class="title class_">ESLint</span> - ä»£ç è§„èŒƒæ£€æŸ¥ï¼ˆä¼ä¸šä»£ç æ ‡å‡†ï¼‰</span><br><span class="line">âœ… <span class="title class_">Prettier</span> - ä»£ç æ ¼å¼åŒ–ï¼ˆå›¢é˜Ÿåä½œï¼‰</span><br><span class="line">âœ… <span class="title class_">Live</span> <span class="title class_">Server</span> - æœ¬åœ°æœåŠ¡å™¨ï¼ˆæ¨¡æ‹ŸçœŸå®ç¯å¢ƒï¼‰</span><br><span class="line">âœ… <span class="variable constant_">REST</span> <span class="title class_">Client</span> - <span class="variable constant_">API</span>æµ‹è¯•ï¼ˆæ¥å£è°ƒè¯•ï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ“Š æ€§èƒ½ç›‘æ§å·¥å…·ï¼ˆå·¥ç¨‹å¸ˆçº§åˆ†æï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ä¸šçº§ï¼šAJAXæ€§èƒ½ç›‘æ§å™¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseAjaxMonitor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">requests</span> = [];</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ç›‘å¬æ‰€æœ‰AJAXè¯·æ±‚</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">originalOpen</span> = <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">originalSend</span> = <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">send</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é‡å†™æ–¹æ³•ä»¥æ”¶é›†æ•°æ®</span></span><br><span class="line">    <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">open</span> = <span class="keyword">function</span>(<span class="params">method, url</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_method</span> = method;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_url</span> = url;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">_startTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">originalOpen</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ç›‘æ§è¯·æ±‚å®Œæˆ</span></span><br><span class="line">    <span class="title class_">XMLHttpRequest</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">send</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_endTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">        <span class="variable language_">this</span>.<span class="property">_duration</span> = <span class="variable language_">this</span>.<span class="property">_endTime</span> - <span class="variable language_">this</span>.<span class="property">_startTime</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸš€ è¯·æ±‚å®Œæˆï¼š<span class="subst">$&#123;<span class="variable language_">this</span>._method&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>._url&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`â±ï¸ å“åº”æ—¶é—´ï¼š<span class="subst">$&#123;<span class="variable language_">this</span>._duration&#125;</span>ms`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ“Š çŠ¶æ€ç ï¼š<span class="subst">$&#123;<span class="variable language_">this</span>.status&#125;</span>`</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ’¾ æ•°æ®å¤§å°ï¼š<span class="subst">$&#123;<span class="variable language_">this</span>.responseText.length&#125;</span>å­—ç¬¦`</span>);</span><br><span class="line">      &#125;);</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">originalSend</span>.<span class="title function_">apply</span>(<span class="variable language_">this</span>, <span class="variable language_">arguments</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ï¼šè‡ªåŠ¨ç›‘æ§æ‰€æœ‰AJAXè¯·æ±‚</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">EnterpriseAjaxMonitor</span>();</span><br></pre></td></tr></table></figure>

<blockquote>
<p>ğŸ¯ <strong>ç¯å¢ƒå‡†å¤‡å®Œæˆï¼</strong> ç°åœ¨ä½ æœ‰äº†å·¥ç¨‹å¸ˆçš„ä¸“ä¸šå·¥å…·ï¼Œå‡†å¤‡å¼€å§‹æ¢ç´¢AJAXçš„åº•å±‚åŸç†å§ï¼</p>
</blockquote>
<h2 id="ç¬¬1ç« ï¼šXMLHttpRequeståŸºç¡€-è®¤è¯†AJAXçš„ç¥–å…ˆ-ğŸ›ï¸"><a href="#ç¬¬1ç« ï¼šXMLHttpRequeståŸºç¡€-è®¤è¯†AJAXçš„ç¥–å…ˆ-ğŸ›ï¸" class="headerlink" title="ç¬¬1ç« ï¼šXMLHttpRequeståŸºç¡€ - è®¤è¯†AJAXçš„ç¥–å…ˆ ğŸ›ï¸"></a>ç¬¬1ç« ï¼šXMLHttpRequeståŸºç¡€ - è®¤è¯†AJAXçš„ç¥–å…ˆ ğŸ›ï¸</h2><h3 id="ğŸ¯-æœ¬ç« ç›®æ ‡"><a href="#ğŸ¯-æœ¬ç« ç›®æ ‡" class="headerlink" title="ğŸ¯ æœ¬ç« ç›®æ ‡"></a>ğŸ¯ æœ¬ç« ç›®æ ‡</h3><p>ç†è§£XHRçš„å·¥ä½œåŸç†ï¼ŒçŸ¥é“axiosåº•å±‚æ˜¯æ€ä¹ˆè¿è¡Œçš„ï¼</p>
<h3 id="ğŸ¤”-ä¸ºä»€ä¹ˆè¦å­¦XHRï¼Ÿ"><a href="#ğŸ¤”-ä¸ºä»€ä¹ˆè¦å­¦XHRï¼Ÿ" class="headerlink" title="ğŸ¤” ä¸ºä»€ä¹ˆè¦å­¦XHRï¼Ÿ"></a>ğŸ¤” ä¸ºä»€ä¹ˆè¦å­¦XHRï¼Ÿ</h3><p><strong>axios vs XHRçš„å…³ç³»</strong>ï¼š</p>
<ul>
<li>axiosæ˜¯<strong>è±ªåè½¿è½¦</strong> - èˆ’é€‚ã€ç®€å•ã€åŠŸèƒ½å¼ºå¤§</li>
<li>XHRæ˜¯<strong>å‘åŠ¨æœº</strong> - çœŸæ­£å¹²æ´»çš„åº•å±‚æŠ€æœ¯</li>
</ul>
<p><strong>å­¦XHRçš„å¥½å¤„</strong>ï¼š</p>
<ul>
<li>âœ… äº†è§£axiosçš„åº•å±‚åŸç†</li>
<li>âœ… é‡åˆ°é—®é¢˜æ—¶èƒ½æ›´å¥½åœ°è°ƒè¯•</li>
<li>âœ… é¢è¯•æ—¶å±•ç°æ·±åº¦ç†è§£</li>
<li>âœ… æŸäº›ç‰¹æ®Šåœºæ™¯éœ€è¦åŸç”ŸXHR</li>
</ul>
<h3 id="ğŸ”¬-1-2-XHRå¯è§†åŒ–åŸç†ï¼ˆå›¾è§£å‘åŠ¨æœºï¼‰"><a href="#ğŸ”¬-1-2-XHRå¯è§†åŒ–åŸç†ï¼ˆå›¾è§£å‘åŠ¨æœºï¼‰" class="headerlink" title="ğŸ”¬ 1.2 XHRå¯è§†åŒ–åŸç†ï¼ˆå›¾è§£å‘åŠ¨æœºï¼‰"></a>ğŸ”¬ 1.2 XHRå¯è§†åŒ–åŸç†ï¼ˆå›¾è§£å‘åŠ¨æœºï¼‰</h3><h4 id="ğŸš—-æ±½è½¦å‘åŠ¨æœºç±»æ¯”"><a href="#ğŸš—-æ±½è½¦å‘åŠ¨æœºç±»æ¯”" class="headerlink" title="ğŸš— æ±½è½¦å‘åŠ¨æœºç±»æ¯”"></a>ğŸš— æ±½è½¦å‘åŠ¨æœºç±»æ¯”</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">axiosï¼ˆæ•´è½¦ï¼‰ = è±ªåè½¿è½¦</span><br><span class="line">    â†“ æ‹†å¼€å¤–å£³</span><br><span class="line">XHRï¼ˆå‘åŠ¨æœºï¼‰ = æ ¸å¿ƒåŠ¨åŠ›ç³»ç»Ÿ</span><br><span class="line">    â†“ æ‹†è§£é›¶ä»¶</span><br><span class="line">JavaScript APIï¼ˆé›¶éƒ¨ä»¶ï¼‰ = æ´»å¡ã€æ›²è½´ã€è¿æ†</span><br><span class="line">    â†“ å·¥ä½œåŸç†</span><br><span class="line">HTTPåè®®ï¼ˆç‡ƒçƒ§åŸç†ï¼‰ = æ±½æ²¹ç‡ƒçƒ§æ¨åŠ¨æ´»å¡</span><br></pre></td></tr></table></figure>

<h4 id="âš™ï¸-XHRä¼ä¸šçº§å·¥ä½œæµç¨‹ï¼ˆ4æ­¥æ ‡å‡†åŒ–ï¼‰"><a href="#âš™ï¸-XHRä¼ä¸šçº§å·¥ä½œæµç¨‹ï¼ˆ4æ­¥æ ‡å‡†åŒ–ï¼‰" class="headerlink" title="âš™ï¸ XHRä¼ä¸šçº§å·¥ä½œæµç¨‹ï¼ˆ4æ­¥æ ‡å‡†åŒ–ï¼‰"></a>âš™ï¸ XHRä¼ä¸šçº§å·¥ä½œæµç¨‹ï¼ˆ4æ­¥æ ‡å‡†åŒ–ï¼‰</h4><p><strong>ğŸ¯ æ­¥éª¤1ï¼šåˆ›å»ºå‘åŠ¨æœºå®ä¾‹ï¼ˆä¼ä¸šçº§åˆå§‹åŒ–ï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸ­ ä¼ä¸šçº§ï¼šåˆ›å»ºXMLHttpRequestå®ä¾‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseXMLHttpRequest</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span> = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>();</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">config</span> = &#123;</span><br><span class="line">      <span class="attr">timeout</span>: <span class="number">30000</span>,        <span class="comment">// 30ç§’è¶…æ—¶ï¼ˆä¼ä¸šæ ‡å‡†ï¼‰</span></span><br><span class="line">      <span class="attr">withCredentials</span>: <span class="literal">false</span>, <span class="comment">// è·¨åŸŸå‡­è¯é…ç½®</span></span><br><span class="line">      <span class="attr">responseType</span>: <span class="string">&#x27;json&#x27;</span>    <span class="comment">// å“åº”ç±»å‹é¢„è®¾</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setupEventListeners</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">setupEventListeners</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ¯ ä¼ä¸šçº§ï¼šå®Œæ•´äº‹ä»¶ç›‘å¬</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadstart&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸš€ è¯·æ±‚å¼€å§‹: <span class="subst">$&#123;<span class="variable language_">this</span>.config.method&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.config.url&#125;</span>`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;progress&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (e.<span class="property">lengthComputable</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> percentComplete = (e.<span class="property">loaded</span> / e.<span class="property">total</span>) * <span class="number">100</span>;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ“Š ä¸Šä¼ è¿›åº¦: <span class="subst">$&#123;percentComplete.toFixed(<span class="number">1</span>)&#125;</span>%`</span>);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;load&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`âœ… è¯·æ±‚å®Œæˆ: <span class="subst">$&#123;<span class="variable language_">this</span>.xhr.status&#125;</span> <span class="subst">$&#123;<span class="variable language_">this</span>.xhr.statusText&#125;</span>`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`âŒ è¯·æ±‚é”™è¯¯: ç½‘ç»œè¿æ¥å¤±è´¥`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;timeout&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`â° è¯·æ±‚è¶…æ—¶: è¶…è¿‡<span class="subst">$&#123;<span class="variable language_">this</span>.config.timeout&#125;</span>ms`</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ”§ æ­¥éª¤2ï¼šé…ç½®è¯·æ±‚å‚æ•°ï¼ˆä¼ä¸šçº§æ ‡å‡†åŒ–ï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸ­ ä¼ä¸šçº§ï¼šè¯·æ±‚é…ç½®æ ‡å‡†åŒ–</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseRequestConfig</span> &#123;</span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">create</span>(<span class="params">method, url, options = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ¯ ä¼ä¸šçº§ï¼šURLéªŒè¯å’Œè§„èŒƒåŒ–</span></span><br><span class="line">    <span class="keyword">if</span> (!<span class="variable language_">this</span>.<span class="title function_">isValidUrl</span>(url)) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">`âŒ æ— æ•ˆURL: <span class="subst">$&#123;url&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ğŸ”§ ä¼ä¸šçº§ï¼šå‚æ•°é»˜è®¤å€¼å’ŒéªŒè¯</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">method</span>: method.<span class="title function_">toUpperCase</span>(),</span><br><span class="line">      <span class="attr">url</span>: <span class="variable language_">this</span>.<span class="title function_">normalizeUrl</span>(url),</span><br><span class="line">      <span class="attr">timeout</span>: options.<span class="property">timeout</span> || <span class="number">30000</span>,</span><br><span class="line">      <span class="attr">headers</span>: &#123;</span><br><span class="line">        <span class="string">&#x27;Content-Type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span>,</span><br><span class="line">        <span class="string">&#x27;X-Requested-With&#x27;</span>: <span class="string">&#x27;XMLHttpRequest&#x27;</span>,</span><br><span class="line">        ...options.<span class="property">headers</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">withCredentials</span>: options.<span class="property">withCredentials</span> || <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">responseType</span>: options.<span class="property">responseType</span> || <span class="string">&#x27;json&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">isValidUrl</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">new</span> <span class="title function_">URL</span>(url);</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">catch</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">static</span> <span class="title function_">normalizeUrl</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ”§ ä¼ä¸šçº§ï¼šURLè§„èŒƒåŒ–å¤„ç†</span></span><br><span class="line">    <span class="keyword">const</span> urlObj = <span class="keyword">new</span> <span class="title function_">URL</span>(url);</span><br><span class="line">    <span class="keyword">return</span> urlObj.<span class="title function_">toString</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>ğŸ“¡ æ­¥éª¤3ï¼šç›‘å¬å“åº”äº‹ä»¶ï¼ˆä¼ä¸šçº§äº‹ä»¶å¤„ç†ï¼‰</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸ­ ä¼ä¸šçº§ï¼šå“åº”äº‹ä»¶æ ‡å‡†åŒ–å¤„ç†</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseResponseHandler</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">xhr</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span> = xhr;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setupResponseListeners</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">setupResponseListeners</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ¯ ä¼ä¸šçº§ï¼šå®Œæ•´å“åº”ç”Ÿå‘½å‘¨æœŸç›‘å¬</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;readystatechange&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">switch</span> (<span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="property">readyState</span>) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">// OPENED</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ“¤ è¯·æ±‚å·²æ‰“å¼€&#x27;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">2</span>: <span class="comment">// HEADERS_RECEIVED</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ“¨ å“åº”å¤´å·²æ¥æ”¶&#x27;</span>);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">logResponseHeaders</span>();</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">3</span>: <span class="comment">// LOADING</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ“¥ å“åº”ä½“åŠ è½½ä¸­...&#x27;</span>);</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="number">4</span>: <span class="comment">// DONE</span></span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;âœ… å“åº”å®Œæˆ&#x27;</span>);</span><br><span class="line">          <span class="variable language_">this</span>.<span class="title function_">handleResponseComplete</span>();</span><br><span class="line">          <span class="keyword">break</span>;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">logResponseHeaders</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ“Š ä¼ä¸šçº§ï¼šå“åº”å¤´åˆ†æ</span></span><br><span class="line">    <span class="keyword">const</span> headers = <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">getAllResponseHeaders</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ“‹ å“åº”å¤´ä¿¡æ¯:&#x27;</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- å†…å®¹ç±»å‹:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">getResponseHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- å†…å®¹é•¿åº¦:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">getResponseHeader</span>(<span class="string">&#x27;Content-Length&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- æœåŠ¡å™¨:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">getResponseHeader</span>(<span class="string">&#x27;Server&#x27;</span>));</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;- æ—¶é—´æˆ³:&#x27;</span>, <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="title function_">getResponseHeader</span>(<span class="string">&#x27;Date&#x27;</span>));</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">handleResponseComplete</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// ğŸ¯ ä¼ä¸šçº§ï¼šå“åº”å®Œæˆå¤„ç†</span></span><br><span class="line">    <span class="keyword">const</span> status = <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="property">status</span>;</span><br><span class="line">    <span class="keyword">const</span> statusText = <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="property">statusText</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (status &gt;= <span class="number">200</span> &amp;&amp; status &lt; <span class="number">300</span>) &#123;</span><br><span class="line">      <span class="comment">// âœ… æˆåŠŸå“åº”</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ‰ è¯·æ±‚æˆåŠŸ: <span class="subst">$&#123;status&#125;</span> <span class="subst">$&#123;statusText&#125;</span>`</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">processSuccessResponse</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status &gt;= <span class="number">400</span> &amp;&amp; status &lt; <span class="number">500</span>) &#123;</span><br><span class="line">      <span class="comment">// âŒ å®¢æˆ·ç«¯é”™è¯¯</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`ğŸ˜ å®¢æˆ·ç«¯é”™è¯¯: <span class="subst">$&#123;status&#125;</span> <span class="subst">$&#123;statusText&#125;</span>`</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">processClientError</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (status &gt;= <span class="number">500</span>) &#123;</span><br><span class="line">      <span class="comment">// ğŸ”¥ æœåŠ¡å™¨é”™è¯¯</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`ğŸ”¥ æœåŠ¡å™¨é”™è¯¯: <span class="subst">$&#123;status&#125;</span> <span class="subst">$&#123;statusText&#125;</span>`</span>);</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">processServerError</span>();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// â“ å…¶ä»–çŠ¶æ€</span></span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">warn</span>(<span class="string">`â“ å…¶ä»–çŠ¶æ€: <span class="subst">$&#123;status&#125;</span> <span class="subst">$&#123;statusText&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">processSuccessResponse</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> responseData = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(<span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="property">responseText</span>);</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ“¦ å“åº”æ•°æ®:&#x27;</span>, responseData);</span><br><span class="line">      <span class="keyword">return</span> responseData;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (error) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;âŒ JSONè§£æå¤±è´¥:&#x27;</span>, error);</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">xhr</span>.<span class="property">responseText</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">processClientError</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> errorMessages = &#123;</span><br><span class="line">      <span class="number">400</span>: <span class="string">&#x27;è¯·æ±‚å‚æ•°é”™è¯¯&#x27;</span>,</span><br><span class="line">      <span class="number">401</span>: <span class="string">&#x27;æœªæˆæƒè®¿é—®&#x27;</span>,</span><br><span class="line">      <span class="number">403</span>: <span class="string">&#x27;æƒé™ä¸è¶³&#x27;</span>,</span><br><span class="line">      <span class="number">404</span>: <span class="string">&#x27;èµ„æºæœªæ‰¾åˆ°&#x27;</span>,</span><br><span class="line">      <span class="number">422</span>: <span class="string">&#x27;æ•°æ®éªŒè¯å¤±è´¥&#x27;</span></span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`ğŸ’¡ å»ºè®®: <span class="subst">$&#123;errorMessages[<span class="variable language_">this</span>.xhr.status] || <span class="string">&#x27;æ£€æŸ¥è¯·æ±‚å‚æ•°&#x27;</span>&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">processServerError</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&#x27;ğŸ“ å»ºè®®: è”ç³»åç«¯å¼€å‘å›¢é˜Ÿæ£€æŸ¥æœåŠ¡å™¨çŠ¶æ€&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">**ğŸ“¤ æ­¥éª¤<span class="number">4</span>ï¼šå‘é€è¯·æ±‚ï¼ˆä¼ä¸šçº§å‘é€ç­–ç•¥ï¼‰**</span><br><span class="line"><span class="string">``</span><span class="string">`javascript</span></span><br><span class="line"><span class="string">// ğŸ­ ä¼ä¸šçº§ï¼šè¯·æ±‚å‘é€å’Œç›‘æ§</span></span><br><span class="line"><span class="string">class EnterpriseRequestSender &#123;</span></span><br><span class="line"><span class="string">  constructor(xhr, config) &#123;</span></span><br><span class="line"><span class="string">    this.xhr = xhr;</span></span><br><span class="line"><span class="string">    this.config = config;</span></span><br><span class="line"><span class="string">    this.sendRequest();</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">  </span></span><br><span class="line"><span class="string">  sendRequest() &#123;</span></span><br><span class="line"><span class="string">    // ğŸ¯ ä¼ä¸šçº§ï¼šè¯·æ±‚å‘é€å‰å‡†å¤‡</span></span><br><span class="line"><span class="string">    console.log(`</span>ğŸš€ å‡†å¤‡å‘é€è¯·æ±‚: $&#123;<span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">method</span>&#125; $&#123;<span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">url</span>&#125;<span class="string">`);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // ğŸ”§ ä¼ä¸šçº§ï¼šè®¾ç½®è¯·æ±‚å¤´</span></span><br><span class="line"><span class="string">    Object.entries(this.config.headers).forEach(([key, value]) =&gt; &#123;</span></span><br><span class="line"><span class="string">      this.xhr.setRequestHeader(key, value);</span></span><br><span class="line"><span class="string">    &#125;);</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // â±ï¸ ä¼ä¸šçº§ï¼šè®¾ç½®è¶…æ—¶</span></span><br><span class="line"><span class="string">    this.xhr.timeout = this.config.timeout;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // ğŸ” ä¼ä¸šçº§ï¼šè·¨åŸŸå‡­è¯é…ç½®</span></span><br><span class="line"><span class="string">    this.xhr.withCredentials = this.config.withCredentials;</span></span><br><span class="line"><span class="string">    </span></span><br><span class="line"><span class="string">    // ğŸ“¤ ä¼ä¸šçº§ï¼šå‘é€è¯·æ±‚</span></span><br><span class="line"><span class="string">    try &#123;</span></span><br><span class="line"><span class="string">      this.xhr.send(this.config.data || null);</span></span><br><span class="line"><span class="string">      console.log(&#x27;âœ… è¯·æ±‚å‘é€æˆåŠŸ&#x27;);</span></span><br><span class="line"><span class="string">    &#125; catch (error) &#123;</span></span><br><span class="line"><span class="string">      console.error(&#x27;âŒ è¯·æ±‚å‘é€å¤±è´¥:&#x27;, error);</span></span><br><span class="line"><span class="string">      throw error;</span></span><br><span class="line"><span class="string">    &#125;</span></span><br><span class="line"><span class="string">  &#125;</span></span><br><span class="line"><span class="string">&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="ğŸ­-1-3-ä¼ä¸šçº§å®æˆ˜é¡¹ç›®ï¼šXHRç›‘æ§ç³»ç»Ÿ"><a href="#ğŸ­-1-3-ä¼ä¸šçº§å®æˆ˜é¡¹ç›®ï¼šXHRç›‘æ§ç³»ç»Ÿ" class="headerlink" title="ğŸ­ 1.3 ä¼ä¸šçº§å®æˆ˜é¡¹ç›®ï¼šXHRç›‘æ§ç³»ç»Ÿ"></a>ğŸ­ 1.3 ä¼ä¸šçº§å®æˆ˜é¡¹ç›®ï¼šXHRç›‘æ§ç³»ç»Ÿ</h3><h4 id="ğŸ¯-é¡¹ç›®ä»‹ç»"><a href="#ğŸ¯-é¡¹ç›®ä»‹ç»" class="headerlink" title="ğŸ¯ é¡¹ç›®ä»‹ç»"></a>ğŸ¯ é¡¹ç›®ä»‹ç»</h4><p><strong>é¡¹ç›®èƒŒæ™¯</strong>ï¼šä¼ä¸šéœ€è¦ç›‘æ§æ‰€æœ‰AJAXè¯·æ±‚çš„æ€§èƒ½å’Œé”™è¯¯æƒ…å†µ<br><strong>é¡¹ç›®ç›®æ ‡</strong>ï¼šå¼€å‘ä¸€ä¸ªå®Œæ•´çš„XHRè¯·æ±‚ç›‘æ§ç³»ç»Ÿ<br><strong>æŠ€æœ¯æ ˆ</strong>ï¼šåŸç”ŸXHR + ä¼ä¸šçº§è®¾è®¡æ¨¡å¼</p>
<h4 id="ğŸ—ï¸-å®Œæ•´ç³»ç»Ÿå®ç°"><a href="#ğŸ—ï¸-å®Œæ•´ç³»ç»Ÿå®ç°" class="headerlink" title="ğŸ—ï¸ å®Œæ•´ç³»ç»Ÿå®ç°"></a>ğŸ—ï¸ å®Œæ•´ç³»ç»Ÿå®ç°</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ğŸ­ ä¼ä¸šçº§ï¼šXHRç›‘æ§ç³»ç»Ÿï¼ˆå®Œæ•´å®ç°ï¼‰</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseXHRMonitor</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">config = &#123;&#125;</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">config</span> = &#123;</span><br><span class="line">      <span class="attr">enableLogging</span>: config.<span class="property">enableLogging</span> !== <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">enableMetrics</span>: config.<span class="property">enableMetrics</span> !== <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">enableErrorTracking</span>: config.<span class="property">enableErrorTracking</span> !== <span class="literal">false</span>,</span><br><span class="line">      <span class="attr">maxRequests</span>: config.<span class="property">maxRequests</span> || <span class="number">1000</span>,</span><br><span class="line">      ...config</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">metrics</span> = &#123;</span><br><span class="line">      <span class="attr">totalRequests</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">successfulRequests</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">failedRequests</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">averageResponseTime</span>: <span class="number">0</span>,</span><br><span class="line">      <span class="attr">requests</span>: []</span><br><span class="line">    &#125;;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">init</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">init</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">overrideXMLHttpRequest</span>();</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ¯ XHRç›‘æ§ç³»ç»Ÿå·²å¯åŠ¨&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">overrideXMLHttpRequest</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="title class_">OriginalXMLHttpRequest</span> = <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span>;</span><br><span class="line">    <span class="keyword">const</span> self = <span class="variable language_">this</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">XMLHttpRequest</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">OriginalXMLHttpRequest</span>();</span><br><span class="line">      <span class="keyword">const</span> originalOpen = xhr.<span class="property">open</span>;</span><br><span class="line">      <span class="keyword">const</span> originalSend = xhr.<span class="property">send</span>;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">let</span> requestInfo = &#123;</span><br><span class="line">        <span class="attr">id</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>() + <span class="title class_">Math</span>.<span class="title function_">random</span>(),</span><br><span class="line">        <span class="attr">startTime</span>: <span class="title class_">Date</span>.<span class="title function_">now</span>(),</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">status</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">statusText</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">        <span class="attr">responseTime</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">responseSize</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">error</span>: <span class="literal">null</span></span><br><span class="line">      &#125;;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// é‡å†™openæ–¹æ³•</span></span><br><span class="line">      xhr.<span class="property">open</span> = <span class="keyword">function</span>(<span class="params">method, url, <span class="keyword">async</span>, user, password</span>) &#123;</span><br><span class="line">        requestInfo.<span class="property">method</span> = method;</span><br><span class="line">        requestInfo.<span class="property">url</span> = url;</span><br><span class="line">        originalOpen.<span class="title function_">apply</span>(xhr, <span class="variable language_">arguments</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// é‡å†™sendæ–¹æ³•</span></span><br><span class="line">      xhr.<span class="property">send</span> = <span class="keyword">function</span>(<span class="params">data</span>) &#123;</span><br><span class="line">        requestInfo.<span class="property">startTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// ç›‘å¬å„ç§äº‹ä»¶</span></span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadstart&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (self.<span class="property">config</span>.<span class="property">enableLogging</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸš€ è¯·æ±‚å¼€å§‹: <span class="subst">$&#123;requestInfo.method&#125;</span> <span class="subst">$&#123;requestInfo.url&#125;</span>`</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          requestInfo.<span class="property">status</span> = xhr.<span class="property">status</span>;</span><br><span class="line">          requestInfo.<span class="property">statusText</span> = xhr.<span class="property">statusText</span>;</span><br><span class="line">          requestInfo.<span class="property">responseTime</span> = <span class="title class_">Date</span>.<span class="title function_">now</span>() - requestInfo.<span class="property">startTime</span>;</span><br><span class="line">          requestInfo.<span class="property">responseSize</span> = xhr.<span class="property">responseText</span> ? xhr.<span class="property">responseText</span>.<span class="property">length</span> : <span class="number">0</span>;</span><br><span class="line">          </span><br><span class="line">          <span class="comment">// åˆ†æè¯·æ±‚ç»“æœ</span></span><br><span class="line">          self.<span class="title function_">analyzeRequest</span>(requestInfo);</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;error&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          requestInfo.<span class="property">error</span> = <span class="string">&#x27;Network Error&#x27;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;timeout&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          requestInfo.<span class="property">error</span> = <span class="string">&#x27;Timeout Error&#x27;</span>;</span><br><span class="line">        &#125;);</span><br><span class="line">        </span><br><span class="line">        originalSend.<span class="title function_">apply</span>(xhr, <span class="variable language_">arguments</span>);</span><br><span class="line">      &#125;;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">return</span> xhr;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">analyzeRequest</span>(<span class="params">requestInfo</span>) &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°ç»Ÿè®¡æŒ‡æ ‡</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">totalRequests</span>++;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (requestInfo.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; requestInfo.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">successfulRequests</span>++;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">failedRequests</span>++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è®¡ç®—å¹³å‡å“åº”æ—¶é—´</span></span><br><span class="line">    <span class="keyword">const</span> totalTime = <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">averageResponseTime</span> * (<span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">totalRequests</span> - <span class="number">1</span>);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">averageResponseTime</span> = (totalTime + requestInfo.<span class="property">responseTime</span>) / <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">totalRequests</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¿å­˜è¯·æ±‚è®°å½•</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">requests</span>.<span class="title function_">push</span>(requestInfo);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// é™åˆ¶è®°å½•æ•°é‡</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">requests</span>.<span class="property">length</span> &gt; <span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">maxRequests</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">requests</span>.<span class="title function_">shift</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è¾“å‡ºåˆ†æç»“æœ</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">config</span>.<span class="property">enableLogging</span>) &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">logRequestAnalysis</span>(requestInfo);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// è§¦å‘åˆ†æäº‹ä»¶</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">triggerAnalysisEvent</span>(requestInfo);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">logRequestAnalysis</span>(<span class="params">requestInfo</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> statusEmoji = requestInfo.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; requestInfo.<span class="property">status</span> &lt; <span class="number">300</span> ? <span class="string">&#x27;âœ…&#x27;</span> : <span class="string">&#x27;âŒ&#x27;</span>;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`<span class="subst">$&#123;statusEmoji&#125;</span> è¯·æ±‚å®Œæˆ: <span class="subst">$&#123;requestInfo.method&#125;</span> <span class="subst">$&#123;requestInfo.url&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`â±ï¸ å“åº”æ—¶é—´: <span class="subst">$&#123;requestInfo.responseTime&#125;</span>ms`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ“Š çŠ¶æ€ç : <span class="subst">$&#123;requestInfo.status&#125;</span> <span class="subst">$&#123;requestInfo.statusText&#125;</span>`</span>);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">`ğŸ’¾ æ•°æ®å¤§å°: <span class="subst">$&#123;requestInfo.responseSize&#125;</span>å­—ç¬¦`</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (requestInfo.<span class="property">error</span>) &#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">`ğŸ’¥ é”™è¯¯ç±»å‹: <span class="subst">$&#123;requestInfo.error&#125;</span>`</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">triggerAnalysisEvent</span>(<span class="params">requestInfo</span>) &#123;</span><br><span class="line">    <span class="comment">// è§¦å‘è‡ªå®šä¹‰äº‹ä»¶ï¼Œä¾›å¤–éƒ¨ç›‘å¬</span></span><br><span class="line">    <span class="keyword">const</span> event = <span class="keyword">new</span> <span class="title class_">CustomEvent</span>(<span class="string">&#x27;xhrAnalysisComplete&#x27;</span>, &#123;</span><br><span class="line">      <span class="attr">detail</span>: &#123;</span><br><span class="line">        <span class="attr">request</span>: requestInfo,</span><br><span class="line">        <span class="attr">metrics</span>: <span class="variable language_">this</span>.<span class="title function_">getMetrics</span>()</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">dispatchEvent</span>(event);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">getMetrics</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      ...<span class="variable language_">this</span>.<span class="property">metrics</span>,</span><br><span class="line">      <span class="attr">successRate</span>: <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">totalRequests</span> &gt; <span class="number">0</span> </span><br><span class="line">        ? (<span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">successfulRequests</span> / <span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">totalRequests</span> * <span class="number">100</span>).<span class="title function_">toFixed</span>(<span class="number">2</span>)</span><br><span class="line">        : <span class="number">0</span>,</span><br><span class="line">      <span class="attr">requests</span>: [...<span class="variable language_">this</span>.<span class="property">metrics</span>.<span class="property">requests</span>] <span class="comment">// è¿”å›å‰¯æœ¬</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">getReport</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> metrics = <span class="variable language_">this</span>.<span class="title function_">getMetrics</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">summary</span>: &#123;</span><br><span class="line">        <span class="attr">totalRequests</span>: metrics.<span class="property">totalRequests</span>,</span><br><span class="line">        <span class="attr">successfulRequests</span>: metrics.<span class="property">successfulRequests</span>,</span><br><span class="line">        <span class="attr">failedRequests</span>: metrics.<span class="property">failedRequests</span>,</span><br><span class="line">        <span class="attr">successRate</span>: metrics.<span class="property">successRate</span> + <span class="string">&#x27;%&#x27;</span>,</span><br><span class="line">        <span class="attr">averageResponseTime</span>: metrics.<span class="property">averageResponseTime</span>.<span class="title function_">toFixed</span>(<span class="number">2</span>) + <span class="string">&#x27;ms&#x27;</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">recentRequests</span>: metrics.<span class="property">requests</span>.<span class="title function_">slice</span>(-<span class="number">10</span>), <span class="comment">// æœ€è¿‘10ä¸ªè¯·æ±‚</span></span><br><span class="line">      <span class="attr">slowestRequests</span>: [...metrics.<span class="property">requests</span>]</span><br><span class="line">        .<span class="title function_">sort</span>(<span class="function">(<span class="params">a, b</span>) =&gt;</span> b.<span class="property">responseTime</span> - a.<span class="property">responseTime</span>)</span><br><span class="line">        .<span class="title function_">slice</span>(<span class="number">0</span>, <span class="number">5</span>), <span class="comment">// æœ€æ…¢çš„5ä¸ªè¯·æ±‚</span></span><br><span class="line">      <span class="attr">failedRequests</span>: metrics.<span class="property">requests</span>.<span class="title function_">filter</span>(<span class="function"><span class="params">req</span> =&gt;</span> req.<span class="property">status</span> &gt;= <span class="number">400</span>)</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ¯ ä½¿ç”¨ç¤ºä¾‹ï¼šä¼ä¸šçº§XHRç›‘æ§ç³»ç»Ÿ</span></span><br><span class="line"><span class="keyword">const</span> xhrMonitor = <span class="keyword">new</span> <span class="title class_">EnterpriseXHRMonitor</span>(&#123;</span><br><span class="line">  <span class="attr">enableLogging</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">enableMetrics</span>: <span class="literal">true</span>,</span><br><span class="line">  <span class="attr">maxRequests</span>: <span class="number">500</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬åˆ†æç»“æœ</span></span><br><span class="line"><span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;xhrAnalysisComplete&#x27;</span>, <span class="function">(<span class="params">event</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;ğŸ“Š XHRåˆ†æå®Œæˆ:&#x27;</span>, event.<span class="property">detail</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="ğŸ“Š-ç³»ç»ŸåŠŸèƒ½å±•ç¤º"><a href="#ğŸ“Š-ç³»ç»ŸåŠŸèƒ½å±•ç¤º" class="headerlink" title="ğŸ“Š ç³»ç»ŸåŠŸèƒ½å±•ç¤º"></a>ğŸ“Š ç³»ç»ŸåŠŸèƒ½å±•ç¤º</h4><p><strong>ğŸ¯ å®æ—¶ç›‘æ§é¢æ¿</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼ä¸šçº§ï¼šç›‘æ§æ•°æ®å¯è§†åŒ–</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">EnterpriseMonitorDashboard</span> &#123;</span><br><span class="line">  <span class="title function_">constructor</span>(<span class="params">monitor</span>) &#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">monitor</span> = monitor;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">createDashboard</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">createDashboard</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> dashboard = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;div&#x27;</span>);</span><br><span class="line">    dashboard.<span class="property">id</span> = <span class="string">&#x27;xhr-monitor-dashboard&#x27;</span>;</span><br><span class="line">    dashboard.<span class="property">innerHTML</span> = <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;monitor-container&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;h3&gt;ğŸ¯ XHRæ€§èƒ½ç›‘æ§é¢æ¿&lt;/h3&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;metrics-grid&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;metric-card&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-value&quot; id=&quot;total-requests&quot;&gt;0&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-label&quot;&gt;æ€»è¯·æ±‚æ•°&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;metric-card&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-value&quot; id=&quot;success-rate&quot;&gt;0%&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-label&quot;&gt;æˆåŠŸç‡&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;metric-card&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-value&quot; id=&quot;avg-response-time&quot;&gt;0ms&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-label&quot;&gt;å¹³å‡å“åº”æ—¶é—´&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;div class=&quot;metric-card&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-value&quot; id=&quot;failed-requests&quot;&gt;0&lt;/div&gt;</span></span><br><span class="line"><span class="string">            &lt;div class=&quot;metric-label&quot;&gt;å¤±è´¥è¯·æ±‚&lt;/div&gt;</span></span><br><span class="line"><span class="string">          &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">        &lt;div class=&quot;recent-requests&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;h4&gt;ğŸ“‹ æœ€è¿‘è¯·æ±‚è®°å½•&lt;/h4&gt;</span></span><br><span class="line"><span class="string">          &lt;table class=&quot;requests-table&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;thead&gt;</span></span><br><span class="line"><span class="string">              &lt;tr&gt;</span></span><br><span class="line"><span class="string">                &lt;th&gt;æ—¶é—´&lt;/th&gt;</span></span><br><span class="line"><span class="string">                &lt;th&gt;æ–¹æ³•&lt;/th&gt;</span></span><br><span class="line"><span class="string">                &lt;th&gt;URL&lt;/th&gt;</span></span><br><span class="line"><span class="string">                &lt;th&gt;çŠ¶æ€ç &lt;/th&gt;</span></span><br><span class="line"><span class="string">                &lt;th&gt;å“åº”æ—¶é—´&lt;/th&gt;</span></span><br><span class="line"><span class="string">                &lt;th&gt;æ•°æ®å¤§å°&lt;/th&gt;</span></span><br><span class="line"><span class="string">              &lt;/tr&gt;</span></span><br><span class="line"><span class="string">            &lt;/thead&gt;</span></span><br><span class="line"><span class="string">            &lt;tbody id=&quot;requests-tbody&quot;&gt;</span></span><br><span class="line"><span class="string">            &lt;/tbody&gt;</span></span><br><span class="line"><span class="string">          &lt;/table&gt;</span></span><br><span class="line"><span class="string">        &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    `</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">body</span>.<span class="title function_">appendChild</span>(dashboard);</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">startUpdating</span>();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">startUpdating</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">updateMetrics</span>();</span><br><span class="line">      <span class="variable language_">this</span>.<span class="title function_">updateRecentRequests</span>();</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">updateMetrics</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> metrics = <span class="variable language_">this</span>.<span class="property">monitor</span>.<span class="title function_">getMetrics</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;total-requests&#x27;</span>).<span class="property">textContent</span> = metrics.<span class="property">totalRequests</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;success-rate&#x27;</span>).<span class="property">textContent</span> = metrics.<span class="property">successRate</span> + <span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;avg-response-time&#x27;</span>).<span class="property">textContent</span> = metrics.<span class="property">averageResponseTime</span>.<span class="title function_">toFixed</span>(<span class="number">0</span>) + <span class="string">&#x27;ms&#x27;</span>;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;failed-requests&#x27;</span>).<span class="property">textContent</span> = metrics.<span class="property">failedRequests</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">updateRecentRequests</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> metrics = <span class="variable language_">this</span>.<span class="property">monitor</span>.<span class="title function_">getMetrics</span>();</span><br><span class="line">    <span class="keyword">const</span> recentRequests = metrics.<span class="property">requests</span>.<span class="title function_">slice</span>(-<span class="number">10</span>).<span class="title function_">reverse</span>();</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">const</span> tbody = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;requests-tbody&#x27;</span>);</span><br><span class="line">    tbody.<span class="property">innerHTML</span> = recentRequests.<span class="title function_">map</span>(<span class="function"><span class="params">req</span> =&gt;</span> <span class="string">`</span></span><br><span class="line"><span class="string">      &lt;tr class=&quot;<span class="subst">$&#123;req.status &gt;= <span class="number">400</span> ? <span class="string">&#x27;error-row&#x27;</span> : <span class="string">&#x27;success-row&#x27;</span>&#125;</span>&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;td&gt;<span class="subst">$&#123;<span class="keyword">new</span> <span class="built_in">Date</span>(req.startTime).toLocaleTimeString()&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">        &lt;td&gt;&lt;span class=&quot;method-badge method-<span class="subst">$&#123;req.method.toLowerCase()&#125;</span>&quot;&gt;<span class="subst">$&#123;req.method&#125;</span>&lt;/span&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">        &lt;td class=&quot;url-cell&quot; title=&quot;<span class="subst">$&#123;req.url&#125;</span>&quot;&gt;<span class="subst">$&#123;<span class="variable language_">this</span>.truncateUrl(req.url)&#125;</span>&lt;/td&gt;</span></span><br><span class="line"><span class="string">        &lt;td&gt;&lt;span class=&quot;status-badge status-<span class="subst">$&#123;req.status&#125;</span>&quot;&gt;<span class="subst">$&#123;req.status&#125;</span>&lt;/span&gt;&lt;/td&gt;</span></span><br><span class="line"><span class="string">        &lt;td&gt;<span class="subst">$&#123;req.responseTime&#125;</span>ms&lt;/td&gt;</span></span><br><span class="line"><span class="string">        &lt;td&gt;<span class="subst">$&#123;req.responseSize&#125;</span>B&lt;/td&gt;</span></span><br><span class="line"><span class="string">      &lt;/tr&gt;</span></span><br><span class="line"><span class="string">    `</span>).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  <span class="title function_">truncateUrl</span>(<span class="params">url</span>) &#123;</span><br><span class="line">    <span class="keyword">return</span> url.<span class="property">length</span> &gt; <span class="number">50</span> ? url.<span class="title function_">substring</span>(<span class="number">0</span>, <span class="number">47</span>) + <span class="string">&#x27;...&#x27;</span> : url;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ğŸ¯ å¯åŠ¨ç›‘æ§é¢æ¿</span></span><br><span class="line"><span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">new</span> <span class="title class_">EnterpriseMonitorDashboard</span>(xhrMonitor);</span><br><span class="line">&#125;, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure>

<h3 id="ğŸ†-1-4-é¡¹ç›®æˆæœä¸ä»·å€¼æ€»ç»“"><a href="#ğŸ†-1-4-é¡¹ç›®æˆæœä¸ä»·å€¼æ€»ç»“" class="headerlink" title="ğŸ† 1.4 é¡¹ç›®æˆæœä¸ä»·å€¼æ€»ç»“"></a>ğŸ† 1.4 é¡¹ç›®æˆæœä¸ä»·å€¼æ€»ç»“</h3><h4 id="ğŸ“ˆ-é¡¹ç›®æŠ€æœ¯äº®ç‚¹"><a href="#ğŸ“ˆ-é¡¹ç›®æŠ€æœ¯äº®ç‚¹" class="headerlink" title="ğŸ“ˆ é¡¹ç›®æŠ€æœ¯äº®ç‚¹"></a>ğŸ“ˆ é¡¹ç›®æŠ€æœ¯äº®ç‚¹</h4><ul>
<li><strong>ä¼ä¸šçº§æ¶æ„</strong>ï¼šæ¨¡å—åŒ–è®¾è®¡ï¼Œé«˜å†…èšä½è€¦åˆ</li>
<li><strong>å®Œæ•´ç›‘æ§</strong>ï¼šè¯·æ±‚ç”Ÿå‘½å‘¨æœŸå…¨è¦†ç›–</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šè‡ªåŠ¨é˜²æŠ–ã€å†…å­˜ç®¡ç†</li>
<li><strong>å¯è§†åŒ–å±•ç¤º</strong>ï¼šå®æ—¶ç›‘æ§é¢æ¿</li>
</ul>
<h4 id="ğŸ’¼-èŒåœºåº”ç”¨ä»·å€¼"><a href="#ğŸ’¼-èŒåœºåº”ç”¨ä»·å€¼" class="headerlink" title="ğŸ’¼ èŒåœºåº”ç”¨ä»·å€¼"></a>ğŸ’¼ èŒåœºåº”ç”¨ä»·å€¼</h4><ul>
<li><strong>é¡¹ç›®ç»éªŒ</strong>ï¼šå¯å†™è¿›ç®€å†çš„å®Œæ•´ç›‘æ§ç³»ç»Ÿ</li>
<li><strong>æŠ€æœ¯æ·±åº¦</strong>ï¼šå±•ç°äº†XHRåº•å±‚åŸç†æŒæ¡</li>
<li><strong>ç³»ç»Ÿè®¾è®¡</strong>ï¼šä½“ç°äº†ä¼ä¸šçº§æ¶æ„æ€ç»´</li>
<li><strong>é¢è¯•åŠ åˆ†</strong>ï¼šæ·±åº¦æŠ€æœ¯ç»†èŠ‚å¯ä»¥æ·±å…¥è®¨è®º</li>
</ul>
<blockquote>
<p>ğŸ¯ <strong>æ­å–œä½ ï¼</strong> ä½ åˆšåˆšå®Œæˆäº†ä¸€ä¸ªä¼ä¸šçº§çš„XHRç›‘æ§ç³»ç»Ÿï¼</p>
<p><strong>è¿™ä¸ªé¡¹ç›®çš„ä»·å€¼</strong>ï¼š</p>
<ul>
<li>âœ… å±•ç°äº†ä½ å¯¹XHRåº•å±‚åŸç†çš„æ·±åº¦æŒæ¡</li>
<li>âœ… ä½“ç°äº†ä¼ä¸šçº§ä»£ç è®¾è®¡å’Œæ¶æ„èƒ½åŠ›</li>
<li>âœ… ä¸ºåç»­å°è£…axiosæ‰“ä¸‹äº†åšå®åŸºç¡€</li>
<li>âœ… å¯ä»¥åœ¨é¢è¯•ä¸­æ·±å…¥è®¨è®ºæŠ€æœ¯ç»†èŠ‚</li>
</ul>
</blockquote>
<h3 id="ğŸ“š-1-5-çŸ¥è¯†å»¶ä¼¸ä¸è¿›é˜¶æ–¹å‘"><a href="#ğŸ“š-1-5-çŸ¥è¯†å»¶ä¼¸ä¸è¿›é˜¶æ–¹å‘" class="headerlink" title="ğŸ“š 1.5 çŸ¥è¯†å»¶ä¼¸ä¸è¿›é˜¶æ–¹å‘"></a>ğŸ“š 1.5 çŸ¥è¯†å»¶ä¼¸ä¸è¿›é˜¶æ–¹å‘</h3><h4 id="ğŸ”¬-åº•å±‚åŸç†æ·±å…¥"><a href="#ğŸ”¬-åº•å±‚åŸç†æ·±å…¥" class="headerlink" title="ğŸ”¬ åº•å±‚åŸç†æ·±å…¥"></a>ğŸ”¬ åº•å±‚åŸç†æ·±å…¥</h4><ul>
<li><strong>HTTPåè®®è¯¦è§£</strong>ï¼šè¯·æ±‚è¡Œã€è¯·æ±‚å¤´ã€è¯·æ±‚ä½“çš„å®Œæ•´ç»“æ„</li>
<li><strong>TCP&#x2F;IPè¿æ¥</strong>ï¼šä¸‰æ¬¡æ¡æ‰‹ã€å››æ¬¡æŒ¥æ‰‹çš„ç½‘ç»œåŸç†</li>
<li><strong>æµè§ˆå™¨æ¸²æŸ“æœºåˆ¶</strong>ï¼šXHRå“åº”å¦‚ä½•å½±å“é¡µé¢æ¸²æŸ“</li>
</ul>
<h4 id="ğŸ—ï¸-æ¶æ„è®¾è®¡è¿›é˜¶"><a href="#ğŸ—ï¸-æ¶æ„è®¾è®¡è¿›é˜¶" class="headerlink" title="ğŸ—ï¸ æ¶æ„è®¾è®¡è¿›é˜¶"></a>ğŸ—ï¸ æ¶æ„è®¾è®¡è¿›é˜¶</h4><ul>
<li><strong>å¾®å‰ç«¯æ¶æ„</strong>ï¼šXHRåœ¨å¤§å‹é¡¹ç›®ä¸­çš„åº”ç”¨</li>
<li><strong>æœåŠ¡ç«¯æ¸²æŸ“</strong>ï¼šSSRç¯å¢ƒä¸‹çš„XHRå¤„ç†</li>
<li><strong>æ€§èƒ½ä¼˜åŒ–</strong>ï¼šè¯·æ±‚å‹ç¼©ã€ç¼“å­˜ç­–ç•¥ã€CDNä¼˜åŒ–</li>
</ul>
<h4 id="ğŸ› ï¸-å·¥å…·é“¾å®Œå–„"><a href="#ğŸ› ï¸-å·¥å…·é“¾å®Œå–„" class="headerlink" title="ğŸ› ï¸ å·¥å…·é“¾å®Œå–„"></a>ğŸ› ï¸ å·¥å…·é“¾å®Œå–„</h4><ul>
<li><strong>TypeScripté‡æ„</strong>ï¼šç±»å‹å®‰å…¨çš„XHRå°è£…</li>
<li><strong>å•å…ƒæµ‹è¯•</strong>ï¼šJestæµ‹è¯•XHRåŠŸèƒ½</li>
<li><strong>CI&#x2F;CDé›†æˆ</strong>ï¼šè‡ªåŠ¨åŒ–æµ‹è¯•å’Œéƒ¨ç½²</li>
</ul>
<p><strong>ğŸš€ ä¸‹ä¸€æ­¥å­¦ä¹ </strong>ï¼šæˆ‘ä»¬å°†å­¦ä¹ Promiseï¼Œè®©å¼‚æ­¥ç¼–ç¨‹æ›´åŠ ä¼˜é›…ï¼</p>
<ol start="6">
<li><p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>XMLHttpRequest_åŸºç¡€ä½¿ç”¨<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;my-p&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">/**</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     * ç›®æ ‡ï¼šä½¿ç”¨XMLHttpRequestå¯¹è±¡ä¸æœåŠ¡å™¨é€šä¿¡</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     *  1. åˆ›å»º XMLHttpRequest å¯¹è±¡</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     *  2. é…ç½®è¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚ url åœ°å€</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     *  3. ç›‘å¬ loadend äº‹ä»¶ï¼Œæ¥æ”¶å“åº”ç»“æœ</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">     *  4. å‘èµ·è¯·æ±‚</span></span></span><br><span class="line"><span class="comment"><span class="language-javascript">    */</span></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 1. åˆ›å»º XMLHttpRequest å¯¹è±¡</span></span></span><br><span class="line"><span class="language-javascript">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 2. é…ç½®è¯·æ±‚æ–¹æ³•å’Œè¯·æ±‚ url åœ°å€</span></span></span><br><span class="line"><span class="language-javascript">    xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;http://hmajax.itheima.net/api/province&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 3. ç›‘å¬ loadend äº‹ä»¶ï¼Œæ¥æ”¶å“åº”ç»“æœ</span></span></span><br><span class="line"><span class="language-javascript">    xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>)</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">console</span>.<span class="title function_">log</span>(data.<span class="property">list</span>.<span class="title function_">join</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>))</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.my-p&#x27;</span>).<span class="property">innerHTML</span> = data.<span class="property">list</span>.<span class="title function_">join</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>)</span></span><br><span class="line"><span class="language-javascript">    &#125;)</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    <span class="comment">// 4. å‘èµ·è¯·æ±‚</span></span></span><br><span class="line"><span class="language-javascript">    xhr.<span class="title function_">send</span>()</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>AJAX åŸç†æ˜¯ä»€ä¹ˆ?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>window æä¾›çš„ XMLHttpRequest</li>
</ul>
</details>
</li>
<li><p>ä¸ºä»€ä¹ˆå­¦ä¹  XHR ï¼Ÿ</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>æœ‰æ›´å¤šä¸æœåŠ¡å™¨æ•°æ®é€šä¿¡æ–¹å¼</li>
<li>äº†è§£ axios å†…éƒ¨åŸç†</li>
</ul>
</details>
</li>
<li><p>XHR ä½¿ç”¨æ­¥éª¤ï¼Ÿ</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>1. åˆ›å»º XHR å¯¹è±¡ 2. è°ƒç”¨ open æ–¹æ³•ï¼Œè®¾ç½® url å’Œè¯·æ±‚æ–¹æ³• 3. ç›‘å¬ loadend äº‹ä»¶ï¼Œæ¥æ”¶ç»“æœ 4. è°ƒç”¨ send æ–¹æ³•ï¼Œå‘èµ·è¯·æ±‚</li>
</ul>
</details></li>
</ol>
<h2 id="02-XMLHttpRequest-æŸ¥è¯¢å‚æ•°"><a href="#02-XMLHttpRequest-æŸ¥è¯¢å‚æ•°" class="headerlink" title="02.XMLHttpRequest - æŸ¥è¯¢å‚æ•°"></a>02.XMLHttpRequest - æŸ¥è¯¢å‚æ•°</h2><h3 id="ç›®æ ‡"><a href="#ç›®æ ‡" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ä½¿ç”¨ XHR ä¼ é€’æŸ¥è¯¢å‚æ•°ç»™æœåŠ¡å™¨ï¼Œè·å–åŒ¹é…æ•°æ®</p>
<h3 id="è®²è§£"><a href="#è®²è§£" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>ä»€ä¹ˆæ˜¯æŸ¥è¯¢å‚æ•°ï¼šæºå¸¦é¢å¤–ä¿¡æ¯ç»™æœåŠ¡å™¨ï¼Œè¿”å›åŒ¹é…æƒ³è¦çš„æ•°æ®</p>
</li>
<li><p>æŸ¥è¯¢å‚æ•°åŸç†è¦æºå¸¦çš„ä½ç½®å’Œè¯­æ³•ï¼š<a target="_blank" rel="noopener" href="http://xxxx.com/xxx/xxx?%E5%8F%82%E6%95%B0%E5%90%8D1=%E5%80%BC1&%E5%8F%82%E6%95%B0%E5%90%8D2=%E5%80%BC2">http://xxxx.com/xxx/xxx?å‚æ•°å1=å€¼1&amp;å‚æ•°å2=å€¼2</a></p>
</li>
<li><p>æ‰€ä»¥ï¼ŒåŸç”Ÿ XHR éœ€è¦è‡ªå·±åœ¨ url åé¢æºå¸¦æŸ¥è¯¢å‚æ•°å­—ç¬¦ä¸²ï¼Œæ²¡æœ‰ axios å¸®åŠ©æˆ‘ä»¬æŠŠ params å‚æ•°æ‹¼æ¥åˆ° url å­—ç¬¦ä¸²åé¢äº†</p>
</li>
<li><p>éœ€æ±‚ï¼šæŸ¥è¯¢æ²³åŒ—çœä¸‹å±çš„åŸå¸‚åˆ—è¡¨</p>
<p><img src="/images/image-20230404133429378.png" alt="image-20230404133429378"></p>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šä½¿ç”¨XHRæºå¸¦æŸ¥è¯¢å‚æ•°ï¼Œå±•ç¤ºæŸä¸ªçœä¸‹å±çš„åŸå¸‚åˆ—è¡¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;http://hmajax.itheima.net/api/city?pname=è¾½å®çœ&#x27;</span>)</span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>)</span><br><span class="line">  <span class="keyword">const</span> data = <span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>)</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(data)</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.city-p&#x27;</span>).<span class="property">innerHTML</span> = data.<span class="property">list</span>.<span class="title function_">join</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>)</span><br><span class="line">&#125;)</span><br><span class="line">xhr.<span class="title function_">send</span>()</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-1"><a href="#å°ç»“-1" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>XHR å¦‚ä½•æºå¸¦æŸ¥è¯¢å‚æ•°?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>åœ¨è°ƒç”¨ open æ–¹æ³•çš„æ—¶å€™ï¼Œåœ¨ url? åé¢æŒ‰ç…§æŒ‡å®šæ ¼å¼æ‹¼æ¥å‚æ•°åå’Œå€¼</li>
</ul>
</details></li>
</ol>
<h2 id="03-æ¡ˆä¾‹-åœ°åŒºæŸ¥è¯¢"><a href="#03-æ¡ˆä¾‹-åœ°åŒºæŸ¥è¯¢" class="headerlink" title="03.æ¡ˆä¾‹ - åœ°åŒºæŸ¥è¯¢"></a>03.æ¡ˆä¾‹ - åœ°åŒºæŸ¥è¯¢</h2><h3 id="ç›®æ ‡-1"><a href="#ç›®æ ‡-1" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ä½¿ç”¨ XHR å®Œæˆæ¡ˆä¾‹åœ°åŒºæŸ¥è¯¢</p>
<h3 id="è®²è§£-1"><a href="#è®²è§£-1" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>éœ€æ±‚ï¼šå’Œæˆ‘ä»¬ä¹‹å‰åšçš„ç±»ä¼¼ï¼Œå°±æ˜¯ä¸ç”¨ axios è€Œæ˜¯ç”¨ XHR å®ç°ï¼Œè¾“å…¥çœä»½å’ŒåŸå¸‚åå­—åï¼Œç‚¹å‡»æŸ¥è¯¢ï¼Œä¼ é€’å¤šå¯¹æŸ¥è¯¢å‚æ•°å¹¶è·å–åœ°åŒºåˆ—è¡¨çš„éœ€æ±‚</p>
<p><img src="/images/image-20230221184135458.png" alt="image-20230221184135458"></p>
</li>
<li><p>ä½†æ˜¯å¤šä¸ªæŸ¥è¯¢å‚æ•°ï¼Œå¦‚æœè‡ªå·±æ‹¼æ¥å¾ˆéº»çƒ¦ï¼Œè¿™é‡Œç”¨ URLSearchParams æŠŠå‚æ•°å¯¹è±¡è½¬æˆâ€œå‚æ•°å&#x3D;å€¼&amp;å‚æ•°å&#x3D;å€¼â€œæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. åˆ›å»º URLSearchParams å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> paramsObj = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(&#123;</span><br><span class="line">  å‚æ•°å<span class="number">1</span>: å€¼<span class="number">1</span>,</span><br><span class="line">  å‚æ•°å<span class="number">2</span>: å€¼<span class="number">2</span></span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2. ç”ŸæˆæŒ‡å®šæ ¼å¼æŸ¥è¯¢å‚æ•°å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> queryString = paramsObj.<span class="title function_">toString</span>()</span><br><span class="line"><span class="comment">// ç»“æœï¼šå‚æ•°å1=å€¼1&amp;å‚æ•°å2=å€¼2</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-2"><a href="#å°ç»“-2" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>JS å¯¹è±¡å¦‚ä½•è½¬æˆæŸ¥è¯¢å‚æ•°æ ¼å¼å­—ç¬¦ä¸²?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>åœ¨è°ƒç”¨ open æ–¹æ³•çš„æ—¶å€™ï¼Œåœ¨ url? åé¢æŒ‰ç…§æŒ‡å®šæ ¼å¼æ‹¼æ¥å‚æ•°åå’Œå€¼</li>
</ul>
</details></li>
</ol>
<h2 id="04-XMLHttpRequest-æ•°æ®æäº¤"><a href="#04-XMLHttpRequest-æ•°æ®æäº¤" class="headerlink" title="04.XMLHttpRequest - æ•°æ®æäº¤"></a>04.XMLHttpRequest - æ•°æ®æäº¤</h2><h3 id="ç›®æ ‡-2"><a href="#ç›®æ ‡-2" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>é€šè¿‡ XHR æäº¤ç”¨æˆ·åå’Œå¯†ç ï¼Œå®Œæˆæ³¨å†ŒåŠŸèƒ½</p>
<h3 id="è®²è§£-2"><a href="#è®²è§£-2" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>äº†è§£åŸç”Ÿ XHR è¿›è¡Œæ•°æ®æäº¤çš„æ–¹å¼</p>
</li>
<li><p>éœ€æ±‚ï¼šé€šè¿‡ XHR å®Œæˆæ³¨å†Œç”¨æˆ·åŠŸèƒ½</p>
<p><img src="/images/image-20230404135245271.png" alt="image-20230404135245271"></p>
</li>
<li><p>æ­¥éª¤å’Œè¯­æ³•ï¼š</p>
<ol>
<li><p>æ³¨æ„1ï¼šä½†æ˜¯è¿™æ¬¡æ²¡æœ‰ axios å¸®æˆ‘ä»¬äº†ï¼Œæˆ‘ä»¬éœ€è¦è‡ªå·±è®¾ç½®è¯·æ±‚å¤´ Content-Typeï¼šapplication&#x2F;jsonï¼Œæ¥å‘Šè¯‰æœåŠ¡å™¨ç«¯ï¼Œæˆ‘ä»¬å‘è¿‡å»çš„å†…å®¹ç±»å‹æ˜¯ JSON å­—ç¬¦ä¸²ï¼Œè®©ä»–è½¬æˆå¯¹åº”æ•°æ®ç»“æ„å–å€¼ä½¿ç”¨</p>
</li>
<li><p>æ³¨æ„2ï¼šæ²¡æœ‰ axios äº†ï¼Œæˆ‘ä»¬å‰ç«¯è¦ä¼ é€’çš„è¯·æ±‚ä½“æ•°æ®ï¼Œä¹Ÿæ²¡äººå¸®æˆ‘æŠŠ JS å¯¹è±¡è½¬æˆ JSON å­—ç¬¦ä¸²äº†ï¼Œéœ€è¦æˆ‘ä»¬è‡ªå·±è½¬æ¢</p>
</li>
<li><p>æ³¨æ„3ï¼šåŸç”Ÿ XHR éœ€è¦åœ¨ send æ–¹æ³•è°ƒç”¨æ—¶ï¼Œä¼ å…¥è¯·æ±‚ä½“æºå¸¦</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">xhr.<span class="title function_">open</span>(<span class="string">&#x27;è¯·æ±‚æ–¹æ³•&#x27;</span>, <span class="string">&#x27;è¯·æ±‚urlç½‘å€&#x27;</span>)</span><br><span class="line">xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1. å‘Šè¯‰æœåŠ¡å™¨ï¼Œæˆ‘ä¼ é€’çš„å†…å®¹ç±»å‹ï¼Œæ˜¯ JSON å­—ç¬¦ä¸²</span></span><br><span class="line">xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>)</span><br><span class="line"><span class="comment">// 2. å‡†å¤‡æ•°æ®å¹¶è½¬æˆ JSON å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; <span class="attr">username</span>: <span class="string">&#x27;itheima007&#x27;</span>, <span class="attr">password</span>: <span class="string">&#x27;7654321&#x27;</span> &#125;</span><br><span class="line"><span class="keyword">const</span> userStr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(user)</span><br><span class="line"><span class="comment">// 3. å‘é€è¯·æ±‚ä½“æ•°æ®</span></span><br><span class="line">xhr.<span class="title function_">send</span>(userStr)</span><br></pre></td></tr></table></figure></li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šä½¿ç”¨xhrè¿›è¡Œæ•°æ®æäº¤-å®Œæˆæ³¨å†ŒåŠŸèƒ½</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.reg-btn&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&#x27;POST&#x27;</span>, <span class="string">&#x27;http://hmajax.itheima.net/api/register&#x27;</span>)</span><br><span class="line">  xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(xhr.<span class="property">response</span>)</span><br><span class="line">  &#125;)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// è®¾ç½®è¯·æ±‚å¤´-å‘Šè¯‰æœåŠ¡å™¨å†…å®¹ç±»å‹ï¼ˆJSONå­—ç¬¦ä¸²ï¼‰</span></span><br><span class="line">  xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>)</span><br><span class="line">  <span class="comment">// å‡†å¤‡æäº¤çš„æ•°æ®</span></span><br><span class="line">  <span class="keyword">const</span> userObj = &#123;</span><br><span class="line">    <span class="attr">username</span>: <span class="string">&#x27;itheima007&#x27;</span>,</span><br><span class="line">    <span class="attr">password</span>: <span class="string">&#x27;7654321&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">const</span> userStr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(userObj)</span><br><span class="line">  <span class="comment">// è®¾ç½®è¯·æ±‚ä½“ï¼Œå‘èµ·è¯·æ±‚</span></span><br><span class="line">  xhr.<span class="title function_">send</span>(userStr)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-3"><a href="#å°ç»“-3" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>XHR å¦‚ä½•æäº¤è¯·æ±‚ä½“æ•°æ®?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>åœ¨ send ä¸­æºå¸¦è¯·æ±‚ä½“æ•°æ®ï¼Œè¦æŒ‰ç…§åç«¯è¦æ±‚çš„å†…å®¹ç±»å‹æºå¸¦</li>
</ul>
</details></li>
</ol>
<h2 id="05-è®¤è¯†-Promise"><a href="#05-è®¤è¯†-Promise" class="headerlink" title="05.è®¤è¯†_Promise"></a>05.è®¤è¯†_Promise</h2><h3 id="ç›®æ ‡-3"><a href="#ç›®æ ‡-3" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>è®¤è¯† Promise çš„ä½œç”¨å’Œå¥½å¤„ä»¥åŠä½¿ç”¨æ­¥éª¤</p>
<h3 id="è®²è§£-3"><a href="#è®²è§£-3" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>ä»€ä¹ˆæ˜¯ Promise ï¼Ÿ</p>
<ul>
<li>Promise å¯¹è±¡ç”¨äºè¡¨ç¤ºä¸€ä¸ªå¼‚æ­¥æ“ä½œçš„æœ€ç»ˆå®Œæˆï¼ˆæˆ–å¤±è´¥ï¼‰åŠå…¶ç»“æ„å€¼</li>
</ul>
</li>
<li><p>Promise çš„å¥½å¤„æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<ul>
<li><p>é€»è¾‘æ›´æ¸…æ™°ï¼ˆæˆåŠŸæˆ–å¤±è´¥ä¼šå…³è”åç»­çš„å¤„ç†å‡½æ•°ï¼‰</p>
</li>
<li><p>äº†è§£ axios å‡½æ•°å†…éƒ¨è¿ä½œçš„æœºåˆ¶</p>
<p><img src="/images/image-20230222113651404.png" alt="image-20230222113651404"></p>
</li>
<li><p>èƒ½è§£å†³å›è°ƒå‡½æ•°åœ°ç‹±é—®é¢˜ï¼ˆåé¢ä¼šè®²åˆ°ï¼‰ï¼Œä»Šå¤©å…ˆæ¥çœ‹ä¸‹å®ƒçš„åŸºç¡€ä½¿ç”¨</p>
</li>
</ul>
</li>
<li><p>Promise ç®¡ç†å¼‚æ­¥ä»»åŠ¡ï¼Œè¯­æ³•æ€ä¹ˆç”¨ï¼Ÿ</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. åˆ›å»º Promise å¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// 2. æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡-å¹¶ä¼ é€’ç»“æœ</span></span><br><span class="line"> <span class="comment">// æˆåŠŸè°ƒç”¨: resolve(å€¼) è§¦å‘ then() æ‰§è¡Œ</span></span><br><span class="line"> <span class="comment">// å¤±è´¥è°ƒç”¨: reject(å€¼) è§¦å‘ catch() æ‰§è¡Œ</span></span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">// 3. æ¥æ”¶ç»“æœ</span></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// æˆåŠŸ</span></span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line"> <span class="comment">// å¤±è´¥</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>
</li>
<li><p>ç¤ºä¾‹ä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šä½¿ç”¨Promiseç®¡ç†å¼‚æ­¥ä»»åŠ¡</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 1. åˆ›å»ºPromiseå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 2. æ‰§è¡Œå¼‚æ­¥ä»£ç </span></span><br><span class="line">  <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// resolve(&#x27;æ¨¡æ‹ŸAJAXè¯·æ±‚-æˆåŠŸç»“æœ&#x27;)</span></span><br><span class="line">    <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&#x27;æ¨¡æ‹ŸAJAXè¯·æ±‚-å¤±è´¥ç»“æœ&#x27;</span>))</span><br><span class="line">  &#125;, <span class="number">2000</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. è·å–ç»“æœ</span></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-4"><a href="#å°ç»“-4" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>ä»€ä¹ˆæ˜¯ Promise ?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>è¡¨ç¤ºï¼ˆç®¡ç†ï¼‰ä¸€ä¸ªå¼‚æ­¥æ“ä½œæœ€ç»ˆçŠ¶æ€å’Œç»“æœå€¼çš„å¯¹è±¡</li>
</ul>
</details>
</li>
<li><p>ä¸ºä»€ä¹ˆå­¦ä¹  Promise ?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>æˆåŠŸå’Œå¤±è´¥çŠ¶æ€ï¼Œå¯ä»¥å…³è”å¯¹åº”å¤„ç†å‡½æ•°ï¼Œäº†è§£ axios å†…éƒ¨è¿ä½œçš„åŸç†</li>
</ul>
</details>
</li>
<li><p>Promise ä½¿ç”¨æ­¥éª¤ï¼Ÿ</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>1. new Promise å¯¹è±¡æ‰§è¡Œå¼‚æ­¥ä»»åŠ¡ã€‚2. ç”¨ resolve å…³è” then çš„å›è°ƒå‡½æ•°ä¼ é€’æˆåŠŸç»“æœã€‚3.ç”¨ reject å…³è” catch çš„å›è°ƒå‡½æ•°ä¼ é€’å¤±è´¥ç»“æœã€‚</li>
</ul>
</details></li>
</ol>
<h2 id="06-è®¤è¯†-Promise-çš„çŠ¶æ€"><a href="#06-è®¤è¯†-Promise-çš„çŠ¶æ€" class="headerlink" title="06.è®¤è¯†_Promise çš„çŠ¶æ€"></a>06.è®¤è¯†_Promise çš„çŠ¶æ€</h2><h3 id="ç›®æ ‡-4"><a href="#ç›®æ ‡-4" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>è®¤è¯† Promise çš„ä¸‰ç§çŠ¶æ€ï¼ŒçŸ¥é“å¦‚ä½•å…³è”æˆåŠŸ&#x2F;å¤±è´¥çš„å¤„ç†å‡½æ•°</p>
<h3 id="è®²è§£-4"><a href="#è®²è§£-4" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>ä¸ºä»€ä¹ˆè¦äº†è§£ Promise çš„ä¸‰ç§çŠ¶æ€ ï¼Ÿ</p>
<ul>
<li>çŸ¥é“ Promise å¯¹è±¡å¦‚ä½•å…³è”çš„å¤„ç†å‡½æ•°ï¼Œä»¥åŠä»£ç çš„æ‰§è¡Œé¡ºåº</li>
</ul>
</li>
<li><p>Promise æœ‰å“ªä¸‰ç§çŠ¶æ€ï¼Ÿ</p>
<blockquote>
<p>æ¯ä¸ª Promise å¯¹è±¡å¿…å®šå¤„äºä»¥ä¸‹ä¸‰ç§çŠ¶æ€ä¹‹ä¸€</p>
</blockquote>
<ol>
<li>å¾…å®šï¼ˆpendingï¼‰ï¼šåˆå§‹çŠ¶æ€ï¼Œæ—¢æ²¡æœ‰è¢«å…‘ç°ï¼Œä¹Ÿæ²¡æœ‰è¢«æ‹’ç»</li>
<li>å·²å…‘ç°ï¼ˆfulfilledï¼‰ï¼šæ“ä½œæˆåŠŸå®Œæˆ</li>
<li>å·²æ‹’ç»ï¼ˆrejectedï¼‰ï¼šæ“ä½œå¤±è´¥</li>
</ol>
<blockquote>
<p>çŠ¶æ€çš„è‹±æ–‡å­—ç¬¦ä¸²ï¼Œå¯ä»¥ç†è§£ä¸º Promise å¯¹è±¡å†…çš„å­—ç¬¦ä¸²æ ‡è¯†ç¬¦ï¼Œç”¨äºåˆ¤æ–­ä»€ä¹ˆæ—¶å€™è°ƒç”¨å“ªä¸€ä¸ªå¤„ç†å‡½æ•°</p>
</blockquote>
</li>
<li><p>Promise çš„çŠ¶æ€æ”¹å˜æœ‰ä»€ä¹ˆç”¨ï¼šè°ƒç”¨å¯¹åº”å‡½æ•°ï¼Œæ”¹å˜ Promise å¯¹è±¡çŠ¶æ€åï¼Œå†…éƒ¨è§¦å‘å¯¹åº”å›è°ƒå‡½æ•°ä¼ å‚å¹¶æ‰§è¡Œ</p>
<p><img src="/images/image-20230222120815484.png" alt="image-20230222120815484"></p>
</li>
<li><p>æ³¨æ„ï¼šæ¯ä¸ª Promise å¯¹è±¡ä¸€æ—¦è¢«å…‘ç°&#x2F;æ‹’ç»ï¼Œé‚£å°±æ˜¯å·²æ•²å®šäº†ï¼ŒçŠ¶æ€æ— æ³•å†è¢«æ”¹å˜</p>
</li>
</ol>
<h3 id="å°ç»“-5"><a href="#å°ç»“-5" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>Promise å¯¹è±¡æœ‰å“ª 3 ç§çŠ¶æ€?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>å¾…å®š pendingï¼Œå·²å…‘ç° fulfilledï¼Œå·²æ‹’ç» rejected</li>
</ul>
</details>
</li>
<li><p>Promise çŠ¶æ€æœ‰ä»€ä¹ˆç”¨?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>çŠ¶æ€æ”¹å˜åï¼Œå¦‚ä½•å…³è”å¤„ç†å‡½æ•°</li>
</ul>
</details></li>
</ol>
<h2 id="07-ä½¿ç”¨-Promise-å’Œ-XHR-è·å–çœä»½åˆ—è¡¨"><a href="#07-ä½¿ç”¨-Promise-å’Œ-XHR-è·å–çœä»½åˆ—è¡¨" class="headerlink" title="07.ä½¿ç”¨ Promise å’Œ XHR_è·å–çœä»½åˆ—è¡¨"></a>07.ä½¿ç”¨ Promise å’Œ XHR_è·å–çœä»½åˆ—è¡¨</h2><h3 id="ç›®æ ‡-5"><a href="#ç›®æ ‡-5" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>å°è¯•ç”¨ Promise ç®¡ç† XHR å¼‚æ­¥ä»»åŠ¡</p>
<h3 id="è®²è§£-5"><a href="#è®²è§£-5" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>Promise å’Œ XHR éƒ½å·²ç»å­¦è¿‡åŸºç¡€è¯­æ³•äº†ï¼Œæˆ‘ä»¬å¯ä»¥æ¥ç»“åˆä½¿ç”¨ä¸€ä¸‹äº†</p>
</li>
<li><p>éœ€æ±‚ï¼šä½¿ç”¨ Promise å’Œ XHR è¯·æ±‚çœä»½åˆ—è¡¨æ•°æ®å¹¶å±•ç¤ºåˆ°é¡µé¢ä¸Š</p>
<p><img src="/images/image-20230404140252181.png" alt="image-20230404140252181"></p>
</li>
<li><p>æ­¥éª¤ï¼š</p>
<ol>
<li><p>åˆ›å»º Promise å¯¹è±¡</p>
</li>
<li><p>æ‰§è¡Œ XHR å¼‚æ­¥ä»£ç ï¼Œè·å–çœä»½åˆ—è¡¨æ•°æ®</p>
</li>
<li><p>å…³è”æˆåŠŸæˆ–å¤±è´¥å›è°ƒå‡½æ•°ï¼Œåšåç»­çš„å¤„ç†</p>
<blockquote>
<p>é”™è¯¯æƒ…å†µï¼šç”¨åœ°å€é”™äº†404æ¼”ç¤º</p>
</blockquote>
</li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šä½¿ç”¨Promiseç®¡ç†XHRè¯·æ±‚çœä»½åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> *  1. åˆ›å»ºPromiseå¯¹è±¡</span></span><br><span class="line"><span class="comment"> *  2. æ‰§è¡ŒXHRå¼‚æ­¥ä»£ç ï¼Œè·å–çœä»½åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> *  3. å…³è”æˆåŠŸæˆ–å¤±è´¥å‡½æ•°ï¼Œåšåç»­å¤„ç†</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 1. åˆ›å»ºPromiseå¯¹è±¡</span></span><br><span class="line"><span class="keyword">const</span> p = <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 2. æ‰§è¡ŒXHRå¼‚æ­¥ä»£ç ï¼Œè·å–çœä»½åˆ—è¡¨</span></span><br><span class="line">  <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">  xhr.<span class="title function_">open</span>(<span class="string">&#x27;GET&#x27;</span>, <span class="string">&#x27;http://hmajax.itheima.net/api/province&#x27;</span>)</span><br><span class="line">  xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// xhrå¦‚ä½•åˆ¤æ–­å“åº”æˆåŠŸè¿˜æ˜¯å¤±è´¥çš„ï¼Ÿ</span></span><br><span class="line">    <span class="comment">// 2xxå¼€å¤´çš„éƒ½æ˜¯æˆåŠŸå“åº”çŠ¶æ€ç </span></span><br><span class="line">    <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">      <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>))</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(xhr.<span class="property">response</span>))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">  xhr.<span class="title function_">send</span>()</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. å…³è”æˆåŠŸæˆ–å¤±è´¥å‡½æ•°ï¼Œåšåç»­å¤„ç†</span></span><br><span class="line">p.<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.my-p&#x27;</span>).<span class="property">innerHTML</span> = result.<span class="property">list</span>.<span class="title function_">join</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// é”™è¯¯å¯¹è±¡è¦ç”¨console.dirè¯¦ç»†æ‰“å°</span></span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">dir</span>(error)</span><br><span class="line">  <span class="comment">// æœåŠ¡å™¨è¿”å›é”™è¯¯æç¤ºæ¶ˆæ¯ï¼Œæ’å…¥åˆ°pæ ‡ç­¾æ˜¾ç¤º</span></span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.my-p&#x27;</span>).<span class="property">innerHTML</span> = error.<span class="property">message</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-6"><a href="#å°ç»“-6" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>AJAX å¦‚ä½•åˆ¤æ–­æ˜¯å¦è¯·æ±‚å“åº”æˆåŠŸäº†?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>å“åº”çŠ¶æ€ç åœ¨å¤§äºç­‰äº 200 å¹¶ä¸”å°äº 300 çš„èŒƒå›´æ˜¯æˆåŠŸçš„</li>
</ul>
</details></li>
</ol>
<h2 id="08-å°è£…-ç®€æ˜“axios-è·å–çœä»½åˆ—è¡¨"><a href="#08-å°è£…-ç®€æ˜“axios-è·å–çœä»½åˆ—è¡¨" class="headerlink" title="08.å°è£…_ç®€æ˜“axios-è·å–çœä»½åˆ—è¡¨"></a>08.å°è£…_ç®€æ˜“axios-è·å–çœä»½åˆ—è¡¨</h2><h3 id="ç›®æ ‡-6"><a href="#ç›®æ ‡-6" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>æ¨¡æ‹Ÿ axios å‡½æ•°å°è£…ï¼Œæ›´æ·±å…¥äº†è§£ axios å†…éƒ¨è¿ä½œåŸç†</p>
<h3 id="è®²è§£-6"><a href="#è®²è§£-6" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>éœ€æ±‚ï¼šåŸºäº Promise å’Œ XHR å°è£… myAxios å‡½æ•°ï¼Œè·å–çœä»½åˆ—è¡¨å±•ç¤ºåˆ°é¡µé¢</p>
<p><img src="/images/image-20230222130217597.png" alt="image-20230222130217597"></p>
</li>
<li><p>æ ¸å¿ƒè¯­æ³•ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myAxios</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// XHR è¯·æ±‚</span></span><br><span class="line">    <span class="comment">// è°ƒç”¨æˆåŠŸ/å¤±è´¥çš„å¤„ç†ç¨‹åº</span></span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">myAxios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;ç›®æ ‡èµ„æºåœ°å€&#x27;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>


</li>
<li><p>æ­¥éª¤ï¼š</p>
<ol>
<li>å®šä¹‰ myAxios å‡½æ•°ï¼Œæ¥æ”¶é…ç½®å¯¹è±¡ï¼Œè¿”å› Promise å¯¹è±¡</li>
<li>å‘èµ· XHR è¯·æ±‚ï¼Œé»˜è®¤è¯·æ±‚æ–¹æ³•ä¸º GET</li>
<li>è°ƒç”¨æˆåŠŸ&#x2F;å¤±è´¥çš„å¤„ç†ç¨‹åº</li>
<li>ä½¿ç”¨ myAxios å‡½æ•°ï¼Œè·å–çœä»½åˆ—è¡¨å±•ç¤º</li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šå°è£…_ç®€æ˜“axioså‡½æ•°_è·å–çœä»½åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> *  1. å®šä¹‰myAxioså‡½æ•°ï¼Œæ¥æ”¶é…ç½®å¯¹è±¡ï¼Œè¿”å›Promiseå¯¹è±¡</span></span><br><span class="line"><span class="comment"> *  2. å‘èµ·XHRè¯·æ±‚ï¼Œé»˜è®¤è¯·æ±‚æ–¹æ³•ä¸ºGET</span></span><br><span class="line"><span class="comment"> *  3. è°ƒç”¨æˆåŠŸ/å¤±è´¥çš„å¤„ç†ç¨‹åº</span></span><br><span class="line"><span class="comment"> *  4. ä½¿ç”¨myAxioså‡½æ•°ï¼Œè·å–çœä»½åˆ—è¡¨å±•ç¤º</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">// 1. å®šä¹‰myAxioså‡½æ•°ï¼Œæ¥æ”¶é…ç½®å¯¹è±¡ï¼Œè¿”å›Promiseå¯¹è±¡</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">myAxios</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">// 2. å‘èµ·XHRè¯·æ±‚ï¼Œé»˜è®¤è¯·æ±‚æ–¹æ³•ä¸ºGET</span></span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">    xhr.<span class="title function_">open</span>(config.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span>, config.<span class="property">url</span>)</span><br><span class="line">    xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">// 3. è°ƒç”¨æˆåŠŸ/å¤±è´¥çš„å¤„ç†ç¨‹åº</span></span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    xhr.<span class="title function_">send</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 4. ä½¿ç”¨myAxioså‡½æ•°ï¼Œè·å–çœä»½åˆ—è¡¨å±•ç¤º</span></span><br><span class="line"><span class="title function_">myAxios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/province&#x27;</span></span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.my-p&#x27;</span>).<span class="property">innerHTML</span> = result.<span class="property">list</span>.<span class="title function_">join</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>)</span><br><span class="line">&#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(error)</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.my-p&#x27;</span>).<span class="property">innerHTML</span> = error.<span class="property">message</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-7"><a href="#å°ç»“-7" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>è‡ªå·±å°è£…çš„ myAxios å¦‚ä½•è®¾ç½®é»˜è®¤è¯·æ±‚æ–¹æ³• GET?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>config.method åˆ¤æ–­æœ‰å€¼å°±ç”¨ï¼Œæ— å€¼ç”¨â€˜GETâ€™æ–¹æ³•</li>
</ul>
</details></li>
</ol>
<h2 id="09-å°è£…-ç®€æ˜“axios-è·å–åœ°åŒºåˆ—è¡¨"><a href="#09-å°è£…-ç®€æ˜“axios-è·å–åœ°åŒºåˆ—è¡¨" class="headerlink" title="09.å°è£…_ç®€æ˜“axios-è·å–åœ°åŒºåˆ—è¡¨"></a>09.å°è£…_ç®€æ˜“axios-è·å–åœ°åŒºåˆ—è¡¨</h2><h3 id="ç›®æ ‡-7"><a href="#ç›®æ ‡-7" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ä¿®æ”¹ myAxios å‡½æ•°æ”¯æŒä¼ é€’æŸ¥è¯¢å‚æ•°ï¼Œè·å–è¾½å®çœï¼Œå¤§è¿å¸‚çš„åœ°åŒºåˆ—è¡¨</p>
<h3 id="è®²è§£-7"><a href="#è®²è§£-7" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>éœ€æ±‚ï¼šåœ¨ä¸Šä¸ªå°è£…çš„å»ºè®® axios å‡½æ•°åŸºç¡€ä¸Šï¼Œä¿®æ”¹ä»£ç æ”¯æŒä¼ é€’æŸ¥è¯¢å‚æ•°åŠŸèƒ½</p>
</li>
<li><p>ä¿®æ”¹æ­¥éª¤ï¼š</p>
<ol>
<li>myAxios å‡½æ•°è°ƒç”¨åï¼Œåˆ¤æ–­ params é€‰é¡¹</li>
<li>åŸºäº URLSearchParams è½¬æ¢æŸ¥è¯¢å‚æ•°å­—ç¬¦ä¸²</li>
<li>ä½¿ç”¨è‡ªå·±å°è£…çš„ myAxios å‡½æ•°æ˜¾ç¤ºåœ°åŒºåˆ—è¡¨</li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myAxios</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line">    <span class="comment">// 1. åˆ¤æ–­æœ‰paramsé€‰é¡¹ï¼Œæºå¸¦æŸ¥è¯¢å‚æ•°</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">params</span>) &#123;</span><br><span class="line">      <span class="comment">// 2. ä½¿ç”¨URLSearchParamsè½¬æ¢ï¼Œå¹¶æºå¸¦åˆ°urlä¸Š</span></span><br><span class="line">      <span class="keyword">const</span> paramsObj = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(config.<span class="property">params</span>)</span><br><span class="line">      <span class="keyword">const</span> queryString = paramsObj.<span class="title function_">toString</span>()</span><br><span class="line">      <span class="comment">// æŠŠæŸ¥è¯¢å‚æ•°å­—ç¬¦ä¸²ï¼Œæ‹¼æ¥åœ¨urlï¼Ÿåé¢</span></span><br><span class="line">      config.<span class="property">url</span> += <span class="string">`?<span class="subst">$&#123;queryString&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    xhr.<span class="title function_">open</span>(config.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span>, config.<span class="property">url</span>)</span><br><span class="line">    xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    xhr.<span class="title function_">send</span>()</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3. ä½¿ç”¨myAxioså‡½æ•°ï¼Œè·å–åœ°åŒºåˆ—è¡¨</span></span><br><span class="line"><span class="title function_">myAxios</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/area&#x27;</span>,</span><br><span class="line">  <span class="attr">params</span>: &#123;</span><br><span class="line">    <span class="attr">pname</span>: <span class="string">&#x27;è¾½å®çœ&#x27;</span>,</span><br><span class="line">    <span class="attr">cname</span>: <span class="string">&#x27;å¤§è¿å¸‚&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.my-p&#x27;</span>).<span class="property">innerHTML</span> = result.<span class="property">list</span>.<span class="title function_">join</span>(<span class="string">&#x27;&lt;br&gt;&#x27;</span>)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-8"><a href="#å°ç»“-8" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>å¤–é¢ä¼ å…¥æŸ¥è¯¢å‚æ•°å¯¹è±¡ï¼ŒmyAxios å‡½æ•°å†…å¦‚ä½•è½¬æŸ¥è¯¢å‚æ•°å­—ç¬¦ä¸²?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>ä½¿ç”¨ URLSearchParams å¯¹è±¡è½¬æ¢</li>
</ul>
</details></li>
</ol>
<h2 id="10-å°è£…-ç®€æ˜“axios-æ³¨å†Œç”¨æˆ·"><a href="#10-å°è£…-ç®€æ˜“axios-æ³¨å†Œç”¨æˆ·" class="headerlink" title="10.å°è£…_ç®€æ˜“axios-æ³¨å†Œç”¨æˆ·"></a>10.å°è£…_ç®€æ˜“axios-æ³¨å†Œç”¨æˆ·</h2><h3 id="ç›®æ ‡-8"><a href="#ç›®æ ‡-8" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ä¿®æ”¹ myAxios å‡½æ•°æ”¯æŒä¼ é€’è¯·æ±‚ä½“æ•°æ®ï¼Œå®Œæˆæ³¨å†Œç”¨æˆ·</p>
<h3 id="è®²è§£-8"><a href="#è®²è§£-8" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>éœ€æ±‚ï¼šä¿®æ”¹ myAxios å‡½æ•°æ”¯æŒä¼ é€’è¯·æ±‚ä½“æ•°æ®ï¼Œå®Œæˆæ³¨å†Œç”¨æˆ·åŠŸèƒ½</p>
</li>
<li><p>ä¿®æ”¹æ­¥éª¤ï¼š</p>
<ol>
<li>myAxios å‡½æ•°è°ƒç”¨åï¼Œåˆ¤æ–­ data é€‰é¡¹</li>
<li>è½¬æ¢æ•°æ®ç±»å‹ï¼Œåœ¨ send æ–¹æ³•ä¸­å‘é€</li>
<li>ä½¿ç”¨è‡ªå·±å°è£…çš„ myAxios å‡½æ•°å®Œæˆæ³¨å†Œç”¨æˆ·åŠŸèƒ½</li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">myAxios</span>(<span class="params">config</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> xhr = <span class="keyword">new</span> <span class="title class_">XMLHttpRequest</span>()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">params</span>) &#123;</span><br><span class="line">      <span class="keyword">const</span> paramsObj = <span class="keyword">new</span> <span class="title class_">URLSearchParams</span>(config.<span class="property">params</span>)</span><br><span class="line">      <span class="keyword">const</span> queryString = paramsObj.<span class="title function_">toString</span>()</span><br><span class="line">      config.<span class="property">url</span> += <span class="string">`?<span class="subst">$&#123;queryString&#125;</span>`</span></span><br><span class="line">    &#125;</span><br><span class="line">    xhr.<span class="title function_">open</span>(config.<span class="property">method</span> || <span class="string">&#x27;GET&#x27;</span>, config.<span class="property">url</span>)</span><br><span class="line"></span><br><span class="line">    xhr.<span class="title function_">addEventListener</span>(<span class="string">&#x27;loadend&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (xhr.<span class="property">status</span> &gt;= <span class="number">200</span> &amp;&amp; xhr.<span class="property">status</span> &lt; <span class="number">300</span>) &#123;</span><br><span class="line">        <span class="title function_">resolve</span>(<span class="title class_">JSON</span>.<span class="title function_">parse</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="title function_">reject</span>(<span class="keyword">new</span> <span class="title class_">Error</span>(xhr.<span class="property">response</span>))</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="comment">// 1. åˆ¤æ–­æœ‰dataé€‰é¡¹ï¼Œæºå¸¦è¯·æ±‚ä½“</span></span><br><span class="line">    <span class="keyword">if</span> (config.<span class="property">data</span>) &#123;</span><br><span class="line">      <span class="comment">// 2. è½¬æ¢æ•°æ®ç±»å‹ï¼Œåœ¨sendä¸­å‘é€</span></span><br><span class="line">      <span class="keyword">const</span> jsonStr = <span class="title class_">JSON</span>.<span class="title function_">stringify</span>(config.<span class="property">data</span>)</span><br><span class="line">      xhr.<span class="title function_">setRequestHeader</span>(<span class="string">&#x27;Content-Type&#x27;</span>, <span class="string">&#x27;application/json&#x27;</span>)</span><br><span class="line">      xhr.<span class="title function_">send</span>(jsonStr)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">// å¦‚æœæ²¡æœ‰è¯·æ±‚ä½“æ•°æ®ï¼Œæ­£å¸¸çš„å‘èµ·è¯·æ±‚</span></span><br><span class="line">      xhr.<span class="title function_">send</span>()</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.reg-btn&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="comment">// 3. ä½¿ç”¨myAxioså‡½æ•°ï¼Œå®Œæˆæ³¨å†Œç”¨æˆ·</span></span><br><span class="line">  <span class="title function_">myAxios</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/register&#x27;</span>,</span><br><span class="line">    <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123;</span><br><span class="line">      <span class="attr">username</span>: <span class="string">&#x27;itheima999&#x27;</span>,</span><br><span class="line">      <span class="attr">password</span>: <span class="string">&#x27;666666&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">  &#125;).<span class="title function_">catch</span>(<span class="function"><span class="params">error</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">dir</span>(error)</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-9"><a href="#å°ç»“-9" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>å¤–é¢ä¼ å…¥ data é€‰é¡¹ï¼ŒmyAxios å‡½æ•°å†…å¦‚ä½•æºå¸¦è¯·æ±‚ä½“å‚æ•°?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>åˆ¤æ–­å¤–é¢ä¼ å…¥äº†è¿™ä¸ªå±æ€§ï¼Œè‡ªå·±è½¬æˆ JSON å­—ç¬¦ä¸²å¹¶è®¾ç½®è¯·æ±‚å¤´å¹¶åœ¨ send æ–¹æ³•ä¸­æºå¸¦</li>
</ul>
</details></li>
</ol>
<h2 id="11-12-æ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥-é»˜è®¤æ•°æ®"><a href="#11-12-æ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥-é»˜è®¤æ•°æ®" class="headerlink" title="11-12.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-é»˜è®¤æ•°æ®"></a>11-12.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-é»˜è®¤æ•°æ®</h2><h3 id="ç›®æ ‡-9"><a href="#ç›®æ ‡-9" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>æŠŠåŒ—äº¬å¸‚çš„æ•°æ®ï¼Œå¡«å……åˆ°é¡µé¢é»˜è®¤æ˜¾ç¤º</p>
<h3 id="è®²è§£-9"><a href="#è®²è§£-9" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>éœ€æ±‚ï¼šä»‹ç»æœ¬é¡¹ç›®è¦å®Œæˆçš„æ•ˆæœï¼Œå’Œè¦å®ç°çš„æ­¥éª¤å’Œåˆ†çš„æ­¥éª¤å’Œè§†é¢‘</p>
<p><img src="/images/image-20230222133327806.png" alt="image-20230222133327806"></p>
</li>
<li><p>æ­¥éª¤</p>
<ol>
<li>å…ˆè·å–åŒ—äº¬å¸‚å¤©æ°”é¢„æŠ¥ï¼Œå±•ç¤º</li>
<li>æœç´¢åŸå¸‚åˆ—è¡¨ï¼Œå±•ç¤º</li>
<li>ç‚¹å‡»åŸå¸‚ï¼Œåˆ‡æ¢æ˜¾ç¤ºå¯¹åº”å¤©æ°”æ•°æ®</li>
</ol>
</li>
<li><p>æœ¬è§†é¢‘å…ˆå°è£…å‡½æ•°ï¼Œè·å–åŸå¸‚å¤©æ°”å¹¶è®¾ç½®é¡µé¢å†…å®¹</p>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡1ï¼šé»˜è®¤æ˜¾ç¤º-åŒ—äº¬å¸‚å¤©æ°”</span></span><br><span class="line"><span class="comment"> *  1.1 è·å–åŒ—äº¬å¸‚å¤©æ°”æ•°æ®</span></span><br><span class="line"><span class="comment"> *  1.2 æ•°æ®å±•ç¤ºåˆ°é¡µé¢</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// è·å–å¹¶æ¸²æŸ“åŸå¸‚å¤©æ°”å‡½æ•°</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">getWeather</span>(<span class="params">cityCode</span>) &#123;</span><br><span class="line">  <span class="comment">// 1.1 è·å–åŒ—äº¬å¸‚å¤©æ°”æ•°æ®</span></span><br><span class="line">  <span class="title function_">myAxios</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/weather&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">city</span>: cityCode</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">    <span class="keyword">const</span> wObj = result.<span class="property">data</span></span><br><span class="line">    <span class="comment">// 1.2 æ•°æ®å±•ç¤ºåˆ°é¡µé¢</span></span><br><span class="line">    <span class="comment">// é˜³å†å’Œå†œå†æ—¥æœŸ</span></span><br><span class="line">    <span class="keyword">const</span> dateStr = <span class="string">`&lt;span class=&quot;dateShort&quot;&gt;<span class="subst">$&#123;wObj.date&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;span class=&quot;calendar&quot;&gt;å†œå†&amp;nbsp;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;dateLunar&quot;&gt;<span class="subst">$&#123;wObj.dateLunar&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/span&gt;`</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.title&#x27;</span>).<span class="property">innerHTML</span> = dateStr</span><br><span class="line">    <span class="comment">// åŸå¸‚åå­—</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.area&#x27;</span>).<span class="property">innerHTML</span> = wObj.<span class="property">area</span></span><br><span class="line">    <span class="comment">// å½“å¤©æ°”æ¸©</span></span><br><span class="line">    <span class="keyword">const</span> nowWStr = <span class="string">`&lt;div class=&quot;tem-box&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;span class=&quot;temp&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;temperature&quot;&gt;<span class="subst">$&#123;wObj.temperature&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;Â°&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/span&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;div class=&quot;climate-box&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;div class=&quot;air&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;psPm25&quot;&gt;<span class="subst">$&#123;wObj.psPm25&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;psPm25Level&quot;&gt;<span class="subst">$&#123;wObj.psPm25Level&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;ul class=&quot;weather-list&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;li&gt;</span></span><br><span class="line"><span class="string">        &lt;img src=&quot;<span class="subst">$&#123;wObj.weatherImg&#125;</span>&quot; class=&quot;weatherImg&quot; alt=&quot;&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;weather&quot;&gt;<span class="subst">$&#123;wObj.weather&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;/li&gt;</span></span><br><span class="line"><span class="string">      &lt;li class=&quot;windDirection&quot;&gt;<span class="subst">$&#123;wObj.windDirection&#125;</span>&lt;/li&gt;</span></span><br><span class="line"><span class="string">      &lt;li class=&quot;windPower&quot;&gt;<span class="subst">$&#123;wObj.windPower&#125;</span>&lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;/ul&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;`</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.weather-box&#x27;</span>).<span class="property">innerHTML</span> = nowWStr</span><br><span class="line">    <span class="comment">// å½“å¤©å¤©æ°”</span></span><br><span class="line">    <span class="keyword">const</span> twObj = wObj.<span class="property">todayWeather</span></span><br><span class="line">    <span class="keyword">const</span> todayWStr = <span class="string">`&lt;div class=&quot;range-box&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;span&gt;ä»Šå¤©ï¼š&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;span class=&quot;range&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;weather&quot;&gt;<span class="subst">$&#123;twObj.weather&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;temNight&quot;&gt;<span class="subst">$&#123;twObj.temNight&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;-&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;temDay&quot;&gt;<span class="subst">$&#123;twObj.temDay&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;â„ƒ&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/span&gt;</span></span><br><span class="line"><span class="string">  &lt;/div&gt;</span></span><br><span class="line"><span class="string">  &lt;ul class=&quot;sun-list&quot;&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;ç´«å¤–çº¿&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;ultraviolet&quot;&gt;<span class="subst">$&#123;twObj.ultraviolet&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;æ¹¿åº¦&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;humidity&quot;&gt;<span class="subst">$&#123;twObj.humidity&#125;</span>&lt;/span&gt;%</span></span><br><span class="line"><span class="string">    &lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;æ—¥å‡º&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;sunriseTime&quot;&gt;<span class="subst">$&#123;twObj.sunriseTime&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/li&gt;</span></span><br><span class="line"><span class="string">    &lt;li&gt;</span></span><br><span class="line"><span class="string">      &lt;span&gt;æ—¥è½&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;sunsetTime&quot;&gt;<span class="subst">$&#123;twObj.sunsetTime&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">    &lt;/li&gt;</span></span><br><span class="line"><span class="string">  &lt;/ul&gt;`</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.today-weather&#x27;</span>).<span class="property">innerHTML</span> = todayWStr</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 7æ—¥å¤©æ°”é¢„æŠ¥æ•°æ®å±•ç¤º</span></span><br><span class="line">    <span class="keyword">const</span> dayForecast = wObj.<span class="property">dayForecast</span></span><br><span class="line">    <span class="keyword">const</span> dayForecastStr = dayForecast.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`&lt;li class=&quot;item&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;date-box&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;dateFormat&quot;&gt;<span class="subst">$&#123;item.dateFormat&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;date&quot;&gt;<span class="subst">$&#123;item.date&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;img src=&quot;<span class="subst">$&#123;item.weatherImg&#125;</span>&quot; alt=&quot;&quot; class=&quot;weatherImg&quot;&gt;</span></span><br><span class="line"><span class="string">      &lt;span class=&quot;weather&quot;&gt;<span class="subst">$&#123;item.weather&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;temp&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;temNight&quot;&gt;<span class="subst">$&#123;item.temNight&#125;</span>&lt;/span&gt;-</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;temDay&quot;&gt;<span class="subst">$&#123;item.temDay&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;span&gt;â„ƒ&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">      &lt;div class=&quot;wind&quot;&gt;</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;windDirection&quot;&gt;<span class="subst">$&#123;item.windDirection&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">        &lt;span class=&quot;windPower&quot;&gt;<span class="subst">$&#123;item.windPower&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;</span></span><br><span class="line"><span class="string">    &lt;/li&gt;`</span></span><br><span class="line">    &#125;).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="comment">// console.log(dayForecastStr)</span></span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.week-wrap&#x27;</span>).<span class="property">innerHTML</span> = dayForecastStr</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// é»˜è®¤è¿›å…¥ç½‘é¡µ-å°±è¦è·å–å¤©æ°”æ•°æ®ï¼ˆåŒ—äº¬å¸‚åŸå¸‚ç¼–ç ï¼š&#x27;110100&#x27;ï¼‰</span></span><br><span class="line"><span class="title function_">getWeather</span>(<span class="string">&#x27;110100&#x27;</span>)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-10"><a href="#å°ç»“-10" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>åšå®Œè¿™ä¸ªé¡¹ç›®ä¼šå¸¦æ¥ä»€ä¹ˆæ”¶è´§?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>å¯ä»¥åšä¸€ä¸ªçœŸæ­£æœ‰æ„ä¹‰çš„ä¸šåŠ¡ï¼ŒæŸ¥çœ‹åŸå¸‚çš„å¤©æ°”é¢„æŠ¥ï¼Œæµ‹è¯•è‡ªå·±å°è£…çš„ myAxios å‡½æ•°æ˜¯å¦å¥½ç”¨</li>
</ul>
</details></li>
</ol>
<h2 id="13-æ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥-æœç´¢åŸå¸‚åˆ—è¡¨"><a href="#13-æ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥-æœç´¢åŸå¸‚åˆ—è¡¨" class="headerlink" title="13.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-æœç´¢åŸå¸‚åˆ—è¡¨"></a>13.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-æœç´¢åŸå¸‚åˆ—è¡¨</h2><h3 id="ç›®æ ‡-10"><a href="#ç›®æ ‡-10" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>æ ¹æ®å…³é”®å­—ï¼Œå±•ç¤ºåŒ¹é…çš„åŸå¸‚åˆ—è¡¨</p>
<h3 id="è®²è§£-10"><a href="#è®²è§£-10" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>ä»‹ç»æœ¬è§†é¢‘è¦å®Œæˆçš„æ•ˆæœï¼šæœç´¢åŒ¹é…å…³é”®å­—ç›¸å…³åŸå¸‚åå­—ï¼Œå±•ç¤ºåŸå¸‚åˆ—è¡¨å³å¯</p>
<p><img src="/images/image-20230222133553010.png" alt="image-20230222133553010"></p>
</li>
<li><p>æ­¥éª¤</p>
<ol>
<li>ç»‘å®š input äº‹ä»¶ï¼Œè·å–å…³é”®å­—</li>
<li>è·å–å±•ç¤ºåŸå¸‚åˆ—è¡¨æ•°æ®</li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡2ï¼šæœç´¢åŸå¸‚åˆ—è¡¨</span></span><br><span class="line"><span class="comment"> *  2.1 ç»‘å®šinputäº‹ä»¶ï¼Œè·å–å…³é”®å­—</span></span><br><span class="line"><span class="comment"> *  2.2 è·å–å±•ç¤ºåŸå¸‚åˆ—è¡¨æ•°æ®</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 2.1 ç»‘å®šinputäº‹ä»¶ï¼Œè·å–å…³é”®å­—</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.search-city&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;input&#x27;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(e.<span class="property">target</span>.<span class="property">value</span>)</span><br><span class="line">  <span class="comment">// 2.2 è·å–å±•ç¤ºåŸå¸‚åˆ—è¡¨æ•°æ®</span></span><br><span class="line">  <span class="title function_">myAxios</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&#x27;http://hmajax.itheima.net/api/weather/city&#x27;</span>,</span><br><span class="line">    <span class="attr">params</span>: &#123;</span><br><span class="line">      <span class="attr">city</span>: e.<span class="property">target</span>.<span class="property">value</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;).<span class="title function_">then</span>(<span class="function"><span class="params">result</span> =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">    <span class="keyword">const</span> liStr = result.<span class="property">data</span>.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="string">`&lt;li class=&quot;city-item&quot; data-code=&quot;<span class="subst">$&#123;item.code&#125;</span>&quot;&gt;<span class="subst">$&#123;item.name&#125;</span>&lt;/li&gt;`</span></span><br><span class="line">    &#125;).<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>)</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(liStr)</span><br><span class="line">    <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.search-list&#x27;</span>).<span class="property">innerHTML</span> = liStr</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-11"><a href="#å°ç»“-11" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>ç›‘å¬è¾“å…¥æ¡†å®æ—¶æ”¹å˜çš„äº‹ä»¶æ˜¯ä»€ä¹ˆ?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>inputäº‹ä»¶</li>
</ul>
</details></li>
</ol>
<h2 id="14-æ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥-å±•ç¤ºåŸå¸‚å¤©æ°”"><a href="#14-æ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥-å±•ç¤ºåŸå¸‚å¤©æ°”" class="headerlink" title="14.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-å±•ç¤ºåŸå¸‚å¤©æ°”"></a>14.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-å±•ç¤ºåŸå¸‚å¤©æ°”</h2><h3 id="ç›®æ ‡-11"><a href="#ç›®æ ‡-11" class="headerlink" title="ç›®æ ‡"></a>ç›®æ ‡</h3><p>ç‚¹å‡»æœç´¢æ¡†åˆ—è¡¨åŸå¸‚åå­—ï¼Œåˆ‡æ¢å¯¹åº”åŸå¸‚å¤©æ°”æ•°æ®</p>
<h3 id="è®²è§£-11"><a href="#è®²è§£-11" class="headerlink" title="è®²è§£"></a>è®²è§£</h3><ol>
<li><p>ä»‹ç»æœ¬è§†é¢‘è¦å®Œæˆçš„æ•ˆæœï¼šç‚¹å‡»åŸå¸‚åˆ—è¡¨åå­—ï¼Œåˆ‡æ¢å½“å‰é¡µé¢å¤©æ°”æ•°æ®</p>
<p><img src="/images/image-20230222134653884.png" alt="image-20230222134653884"></p>
</li>
<li><p>æ­¥éª¤</p>
<ol>
<li>æ£€æµ‹æœç´¢åˆ—è¡¨ç‚¹å‡»äº‹ä»¶ï¼Œè·å–åŸå¸‚ code å€¼</li>
<li>å¤ç”¨è·å–å±•ç¤ºåŸå¸‚å¤©æ°”å‡½æ•°</li>
</ol>
</li>
<li><p>æ ¸å¿ƒä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡3ï¼šåˆ‡æ¢åŸå¸‚å¤©æ°”</span></span><br><span class="line"><span class="comment"> *  3.1 ç»‘å®šåŸå¸‚ç‚¹å‡»äº‹ä»¶ï¼Œè·å–åŸå¸‚codeå€¼</span></span><br><span class="line"><span class="comment"> *  3.2 è°ƒç”¨è·å–å¹¶å±•ç¤ºå¤©æ°”çš„å‡½æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">// 3.1 ç»‘å®šåŸå¸‚ç‚¹å‡»äº‹ä»¶ï¼Œè·å–åŸå¸‚codeå€¼</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&#x27;.search-list&#x27;</span>).<span class="title function_">addEventListener</span>(<span class="string">&#x27;click&#x27;</span>, <span class="function"><span class="params">e</span> =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">classList</span>.<span class="title function_">contains</span>(<span class="string">&#x27;city-item&#x27;</span>)) &#123;</span><br><span class="line">    <span class="comment">// åªæœ‰ç‚¹å‡»åŸå¸‚liæ‰ä¼šèµ°è¿™é‡Œ</span></span><br><span class="line">    <span class="keyword">const</span> cityCode = e.<span class="property">target</span>.<span class="property">dataset</span>.<span class="property">code</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(cityCode)</span><br><span class="line">    <span class="comment">// 3.2 è°ƒç”¨è·å–å¹¶å±•ç¤ºå¤©æ°”çš„å‡½æ•°</span></span><br><span class="line">    <span class="title function_">getWeather</span>(cityCode)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li>
</ol>
<h3 id="å°ç»“-12"><a href="#å°ç»“-12" class="headerlink" title="å°ç»“"></a>å°ç»“</h3><ol>
<li><p>è¿™æ¬¡æˆ‘ä»¬è·å–åŸå¸‚å¤©æ°”ï¼Œä¼ é€’çš„æ˜¯åŸå¸‚åå­—è¿˜æ˜¯ code å€¼?</p>
<details>
<summary>ç­”æ¡ˆ</summary>
<ul>
<li>çœ‹åç«¯è¦æ±‚ä¼ é€’ä»€ä¹ˆï¼Œå°±ä¼ ä»€ä¹ˆå³å¯</li>
</ul>
</details></li>
</ol>
<h2 id="ä»Šæ—¥é‡ç‚¹-å¿…é¡»ä¼š"><a href="#ä»Šæ—¥é‡ç‚¹-å¿…é¡»ä¼š" class="headerlink" title="ä»Šæ—¥é‡ç‚¹(å¿…é¡»ä¼š)"></a>ä»Šæ—¥é‡ç‚¹(å¿…é¡»ä¼š)</h2><ol>
<li>äº†è§£ AJAX åŸç†ä¹‹ XMLHttpRequestï¼ˆXHRï¼‰ç›¸å…³è¯­æ³•</li>
<li>äº†è§£ Promise çš„ä½œç”¨å’Œä¸‰ç§çŠ¶æ€</li>
<li>äº†è§£ axios å†…éƒ¨è¿ä½œçš„è¿‡ç¨‹</li>
<li>å®Œæˆæ¡ˆä¾‹-å¤©æ°”é¢„æŠ¥</li>
</ol>
<h2 id="ä»Šæ—¥ä½œä¸š-å¿…å®Œæˆ"><a href="#ä»Šæ—¥ä½œä¸š-å¿…å®Œæˆ" class="headerlink" title="ä»Šæ—¥ä½œä¸š(å¿…å®Œæˆ)"></a>ä»Šæ—¥ä½œä¸š(å¿…å®Œæˆ)</h2><p>å‚è€ƒä½œä¸šæ–‡ä»¶å¤¹ä½œç”¨</p>
<h2 id="å‚è€ƒæ–‡æ¡£"><a href="#å‚è€ƒæ–‡æ¡£" class="headerlink" title="å‚è€ƒæ–‡æ¡£"></a>å‚è€ƒæ–‡æ¡£</h2><ol>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/Guide/AJAX/Getting_Started">AjaxåŸç”Ÿ-mdn</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/API/XMLHttpRequest/Synchronous_and_Asynchronous_Requests">åŒæ­¥å¼‚æ­¥-mdn</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Glossary/Callback_function">å›è°ƒå‡½æ•°-mdn</a></li>
<li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Promise">Promise-mdn</a></li>
</ol>
</article><div class="post-copyright"><div class="post-copyright__author_group"><div class="post-copyright__author_img"><img class="post-copyright__author_img_front" src="/img/logo.png"></div><div class="post-copyright__author_name">woodfish</div><div class="post-copyright__author_desc">HOLA,this is woodfish!</div></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div id="quit-box" onclick="RemoveRewardMask()"></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬æ–‡æ˜¯åŸåˆ›æ–‡ç« ï¼Œé‡‡ç”¨<a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh-hans">CC BY-NC-SA 4.0</a>åè®®ï¼Œå®Œæ•´è½¬è½½è¯·æ³¨æ˜æ¥è‡ª<a href="/">æœ¨é±¼çš„é±¼çª</a></span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Ajax/"><span class="tags-punctuation"><i class="solitude fas fa-hashtag"></i>Ajax<span class="tagsPageCount">4</span></span></a></div></div></div><nav class="needEndHide pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2025/09/11/%E5%89%8D%E7%AB%AF/Day04_AJAX%E8%BF%9B%E9%98%B6/"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Day04_AJAXè¿›é˜¶</div></div></a></div><div class="next-post pull-right"><a href="/2025/09/09/%E5%89%8D%E7%AB%AF/Day02_AJAX%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B/"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Day02_AJAXç»¼åˆæ¡ˆä¾‹</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-content"><div class="card-info-avatar is-center"><div class="top-group"><div class="sayhi" id="sayhi" onclick="sco.changeWittyWord()"></div></div></div><div class="avatar"><img alt="å¤´åƒ" src="/img/logo.png"></div><div class="description"></div><div class="bottom-group"><span class="left"><div class="name">woodfish</div><div class="desc">åªæœ‰è¿é£ï¼Œé£ç­æ‰èƒ½é£å¾—æ›´é«˜ã€‚</div></span><div class="social-icons is-center"></div></div></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="solitude fas fa-bars"></i><span>æ–‡ç« ç›®å½•</span></div><div class="toc-content" id="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Day03-AJAX%E5%8E%9F%E7%90%86-%E4%BB%8E%E5%8F%B8%E6%9C%BA%E5%88%B0%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%9C%95%E5%8F%98-%F0%9F%9A%97%E2%9A%99%EF%B8%8F"><span class="toc-text">Day03_AJAXåŸç† - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„èœ•å˜ ğŸš—âš™ï¸</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8E%AC-%E5%BC%80%E5%9C%BA%E6%95%85%E4%BA%8B%EF%BC%9A%E8%80%81%E5%8F%B8%E6%9C%BA%E7%9A%84%E5%9B%B0%E6%83%91"><span class="toc-text">ğŸ¬ å¼€åœºæ•…äº‹ï¼šè€å¸æœºçš„å›°æƒ‘</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%8E%AF-%E6%9C%AC%E8%8A%82%E8%AF%BE%E4%BD%A0%E5%B0%86%E5%AD%A6%E5%88%B0%E4%BB%80%E4%B9%88%EF%BC%9F"><span class="toc-text">ğŸ¯ æœ¬èŠ‚è¯¾ä½ å°†å­¦åˆ°ä»€ä¹ˆï¼Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8F%86-%E5%AD%A6%E4%B9%A0%E7%9B%AE%E6%A0%87%EF%BC%9A%E4%BB%8E%E5%8F%B8%E6%9C%BA%E5%88%B0%E5%B7%A5%E7%A8%8B%E5%B8%88%E7%9A%84%E8%BF%9B%E9%98%B6"><span class="toc-text">ğŸ† å­¦ä¹ ç›®æ ‡ï¼šä»å¸æœºåˆ°å·¥ç¨‹å¸ˆçš„è¿›é˜¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%9A%80-%E8%AF%BE%E7%A8%8B%E6%94%B6%E8%8E%B7"><span class="toc-text">ğŸš€ è¯¾ç¨‹æ”¶è·</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%F0%9F%93%9A-%E5%AD%A6%E5%89%8D%E5%87%86%E5%A4%87-%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%8A%80%E8%83%BD%E8%AE%A4%E8%AF%81-%F0%9F%8F%AD"><span class="toc-text">ğŸ“š å­¦å‰å‡†å¤‡ - å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ ğŸ­</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-2-1-%E5%B7%A5%E7%A8%8B%E5%B8%88-vs-%E5%8F%B8%E6%9C%BA-%E6%80%9D%E7%BB%B4%E8%BD%AC%E5%8F%98%E6%A3%80%E6%B5%8B"><span class="toc-text">ğŸ¯ 2.1 å·¥ç¨‹å¸ˆ vs å¸æœº - æ€ç»´è½¬å˜æ£€æµ‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8F%86-%E6%8A%80%E6%9C%AF%E8%83%BD%E5%8A%9B%E7%AD%89%E7%BA%A7%EF%BC%88%E4%BD%A0%E7%9A%84%E5%BD%93%E5%89%8D%E4%BD%8D%E7%BD%AE%EF%BC%89"><span class="toc-text">ğŸ† æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%A7%AA-%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%9F%BA%E7%A1%80%E8%83%BD%E5%8A%9B%E6%B5%8B%E8%AF%95%EF%BC%88%E5%BF%85%E9%A1%BB%E8%BE%BE%E6%A0%87%EF%BC%89"><span class="toc-text">ğŸ§ª å·¥ç¨‹å¸ˆåŸºç¡€èƒ½åŠ›æµ‹è¯•ï¼ˆå¿…é¡»è¾¾æ ‡ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%93%8A-%E6%8A%80%E8%83%BD%E8%AF%84%E4%BC%B0%E7%BB%93%E6%9E%9C%E4%B8%8E%E5%BB%BA%E8%AE%AE"><span class="toc-text">ğŸ“Š æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%A7-2-2-%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%87%86%E5%A4%87"><span class="toc-text">ğŸ”§ 2.2 å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8F%AD-%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%88%E6%A0%87%E5%87%86%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%89"><span class="toc-text">ğŸ­ ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E7%AB%A0%EF%BC%9A%E6%8A%80%E8%83%BD%E8%BF%9B%E9%98%B6%E6%A3%80%E6%B5%8B-%E4%BB%8E%E5%8F%B8%E6%9C%BA%E5%88%B0%E5%B7%A5%E7%A8%8B%E5%B8%88-%F0%9F%A7%AA"><span class="toc-text">ç¬¬äºŒç« ï¼šæŠ€èƒ½è¿›é˜¶æ£€æµ‹ - ä»å¸æœºåˆ°å·¥ç¨‹å¸ˆ ğŸ§ª</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-2-1-%E5%B7%A5%E7%A8%8B%E5%B8%88%E6%8A%80%E8%83%BD%E8%AE%A4%E8%AF%81%EF%BC%88HR%E8%AE%A4%E5%8F%AF%E7%9A%84%E6%A0%87%E5%87%86%EF%BC%89"><span class="toc-text">ğŸ¯ 2.1 å·¥ç¨‹å¸ˆæŠ€èƒ½è®¤è¯ï¼ˆHRè®¤å¯çš„æ ‡å‡†ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8F%86-%E6%8A%80%E6%9C%AF%E8%83%BD%E5%8A%9B%E7%AD%89%E7%BA%A7%EF%BC%88%E4%BD%A0%E7%9A%84%E5%BD%93%E5%89%8D%E4%BD%8D%E7%BD%AE%EF%BC%89-1"><span class="toc-text">ğŸ† æŠ€æœ¯èƒ½åŠ›ç­‰çº§ï¼ˆä½ çš„å½“å‰ä½ç½®ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8E%AF-2-2-%E5%AD%A6%E5%89%8D%E6%8A%80%E8%83%BD%E6%A3%80%E6%B5%8B%EF%BC%88%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%9F%BA%E7%A1%80%EF%BC%89"><span class="toc-text">ğŸ¯ 2.2 å­¦å‰æŠ€èƒ½æ£€æµ‹ï¼ˆå·¥ç¨‹å¸ˆåŸºç¡€ï¼‰</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%93%8A-%E6%8A%80%E8%83%BD%E8%AF%84%E4%BC%B0%E7%BB%93%E6%9E%9C%E4%B8%8E%E5%BB%BA%E8%AE%AE-1"><span class="toc-text">ğŸ“Š æŠ€èƒ½è¯„ä¼°ç»“æœä¸å»ºè®®</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%A7-2-3-%E5%B7%A5%E7%A8%8B%E5%B8%88%E5%B7%A5%E5%85%B7%E7%AE%B1%E5%87%86%E5%A4%87"><span class="toc-text">ğŸ”§ 2.3 å·¥ç¨‹å¸ˆå·¥å…·ç®±å‡†å¤‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8F%AD-%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%EF%BC%88%E6%A0%87%E5%87%86%E5%8C%96%E9%85%8D%E7%BD%AE%EF%BC%89-1"><span class="toc-text">ğŸ­ ä¼ä¸šçº§å¼€å‘ç¯å¢ƒï¼ˆæ ‡å‡†åŒ–é…ç½®ï¼‰</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AC%AC1%E7%AB%A0%EF%BC%9AXMLHttpRequest%E5%9F%BA%E7%A1%80-%E8%AE%A4%E8%AF%86AJAX%E7%9A%84%E7%A5%96%E5%85%88-%F0%9F%8F%9B%EF%B8%8F"><span class="toc-text">ç¬¬1ç« ï¼šXMLHttpRequeståŸºç¡€ - è®¤è¯†AJAXçš„ç¥–å…ˆ ğŸ›ï¸</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8E%AF-%E6%9C%AC%E7%AB%A0%E7%9B%AE%E6%A0%87"><span class="toc-text">ğŸ¯ æœ¬ç« ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%A4%94-%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E5%AD%A6XHR%EF%BC%9F"><span class="toc-text">ğŸ¤” ä¸ºä»€ä¹ˆè¦å­¦XHRï¼Ÿ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%94%AC-1-2-XHR%E5%8F%AF%E8%A7%86%E5%8C%96%E5%8E%9F%E7%90%86%EF%BC%88%E5%9B%BE%E8%A7%A3%E5%8F%91%E5%8A%A8%E6%9C%BA%EF%BC%89"><span class="toc-text">ğŸ”¬ 1.2 XHRå¯è§†åŒ–åŸç†ï¼ˆå›¾è§£å‘åŠ¨æœºï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%9A%97-%E6%B1%BD%E8%BD%A6%E5%8F%91%E5%8A%A8%E6%9C%BA%E7%B1%BB%E6%AF%94"><span class="toc-text">ğŸš— æ±½è½¦å‘åŠ¨æœºç±»æ¯”</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%9A%99%EF%B8%8F-XHR%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%B7%A5%E4%BD%9C%E6%B5%81%E7%A8%8B%EF%BC%884%E6%AD%A5%E6%A0%87%E5%87%86%E5%8C%96%EF%BC%89"><span class="toc-text">âš™ï¸ XHRä¼ä¸šçº§å·¥ä½œæµç¨‹ï¼ˆ4æ­¥æ ‡å‡†åŒ–ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8F%AD-1-3-%E4%BC%81%E4%B8%9A%E7%BA%A7%E5%AE%9E%E6%88%98%E9%A1%B9%E7%9B%AE%EF%BC%9AXHR%E7%9B%91%E6%8E%A7%E7%B3%BB%E7%BB%9F"><span class="toc-text">ğŸ­ 1.3 ä¼ä¸šçº§å®æˆ˜é¡¹ç›®ï¼šXHRç›‘æ§ç³»ç»Ÿ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8E%AF-%E9%A1%B9%E7%9B%AE%E4%BB%8B%E7%BB%8D"><span class="toc-text">ğŸ¯ é¡¹ç›®ä»‹ç»</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8F%97%EF%B8%8F-%E5%AE%8C%E6%95%B4%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0"><span class="toc-text">ğŸ—ï¸ å®Œæ•´ç³»ç»Ÿå®ç°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%93%8A-%E7%B3%BB%E7%BB%9F%E5%8A%9F%E8%83%BD%E5%B1%95%E7%A4%BA"><span class="toc-text">ğŸ“Š ç³»ç»ŸåŠŸèƒ½å±•ç¤º</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%8F%86-1-4-%E9%A1%B9%E7%9B%AE%E6%88%90%E6%9E%9C%E4%B8%8E%E4%BB%B7%E5%80%BC%E6%80%BB%E7%BB%93"><span class="toc-text">ğŸ† 1.4 é¡¹ç›®æˆæœä¸ä»·å€¼æ€»ç»“</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%93%88-%E9%A1%B9%E7%9B%AE%E6%8A%80%E6%9C%AF%E4%BA%AE%E7%82%B9"><span class="toc-text">ğŸ“ˆ é¡¹ç›®æŠ€æœ¯äº®ç‚¹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%92%BC-%E8%81%8C%E5%9C%BA%E5%BA%94%E7%94%A8%E4%BB%B7%E5%80%BC"><span class="toc-text">ğŸ’¼ èŒåœºåº”ç”¨ä»·å€¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%F0%9F%93%9A-1-5-%E7%9F%A5%E8%AF%86%E5%BB%B6%E4%BC%B8%E4%B8%8E%E8%BF%9B%E9%98%B6%E6%96%B9%E5%90%91"><span class="toc-text">ğŸ“š 1.5 çŸ¥è¯†å»¶ä¼¸ä¸è¿›é˜¶æ–¹å‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%94%AC-%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86%E6%B7%B1%E5%85%A5"><span class="toc-text">ğŸ”¬ åº•å±‚åŸç†æ·±å…¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%8F%97%EF%B8%8F-%E6%9E%B6%E6%9E%84%E8%AE%BE%E8%AE%A1%E8%BF%9B%E9%98%B6"><span class="toc-text">ğŸ—ï¸ æ¶æ„è®¾è®¡è¿›é˜¶</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%F0%9F%9B%A0%EF%B8%8F-%E5%B7%A5%E5%85%B7%E9%93%BE%E5%AE%8C%E5%96%84"><span class="toc-text">ğŸ› ï¸ å·¥å…·é“¾å®Œå–„</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#02-XMLHttpRequest-%E6%9F%A5%E8%AF%A2%E5%8F%82%E6%95%B0"><span class="toc-text">02.XMLHttpRequest - æŸ¥è¯¢å‚æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-1"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#03-%E6%A1%88%E4%BE%8B-%E5%9C%B0%E5%8C%BA%E6%9F%A5%E8%AF%A2"><span class="toc-text">03.æ¡ˆä¾‹ - åœ°åŒºæŸ¥è¯¢</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-1"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-1"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-2"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#04-XMLHttpRequest-%E6%95%B0%E6%8D%AE%E6%8F%90%E4%BA%A4"><span class="toc-text">04.XMLHttpRequest - æ•°æ®æäº¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-2"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-2"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-3"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#05-%E8%AE%A4%E8%AF%86-Promise"><span class="toc-text">05.è®¤è¯†_Promise</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-3"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-3"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-4"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#06-%E8%AE%A4%E8%AF%86-Promise-%E7%9A%84%E7%8A%B6%E6%80%81"><span class="toc-text">06.è®¤è¯†_Promise çš„çŠ¶æ€</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-4"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-4"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-5"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#07-%E4%BD%BF%E7%94%A8-Promise-%E5%92%8C-XHR-%E8%8E%B7%E5%8F%96%E7%9C%81%E4%BB%BD%E5%88%97%E8%A1%A8"><span class="toc-text">07.ä½¿ç”¨ Promise å’Œ XHR_è·å–çœä»½åˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-5"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-5"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-6"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#08-%E5%B0%81%E8%A3%85-%E7%AE%80%E6%98%93axios-%E8%8E%B7%E5%8F%96%E7%9C%81%E4%BB%BD%E5%88%97%E8%A1%A8"><span class="toc-text">08.å°è£…_ç®€æ˜“axios-è·å–çœä»½åˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-6"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-6"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-7"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#09-%E5%B0%81%E8%A3%85-%E7%AE%80%E6%98%93axios-%E8%8E%B7%E5%8F%96%E5%9C%B0%E5%8C%BA%E5%88%97%E8%A1%A8"><span class="toc-text">09.å°è£…_ç®€æ˜“axios-è·å–åœ°åŒºåˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-7"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-7"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-8"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#10-%E5%B0%81%E8%A3%85-%E7%AE%80%E6%98%93axios-%E6%B3%A8%E5%86%8C%E7%94%A8%E6%88%B7"><span class="toc-text">10.å°è£…_ç®€æ˜“axios-æ³¨å†Œç”¨æˆ·</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-8"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-8"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-9"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#11-12-%E6%A1%88%E4%BE%8B-%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5-%E9%BB%98%E8%AE%A4%E6%95%B0%E6%8D%AE"><span class="toc-text">11-12.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-é»˜è®¤æ•°æ®</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-9"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-9"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-10"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#13-%E6%A1%88%E4%BE%8B-%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5-%E6%90%9C%E7%B4%A2%E5%9F%8E%E5%B8%82%E5%88%97%E8%A1%A8"><span class="toc-text">13.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-æœç´¢åŸå¸‚åˆ—è¡¨</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-10"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-10"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-11"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#14-%E6%A1%88%E4%BE%8B-%E5%A4%A9%E6%B0%94%E9%A2%84%E6%8A%A5-%E5%B1%95%E7%A4%BA%E5%9F%8E%E5%B8%82%E5%A4%A9%E6%B0%94"><span class="toc-text">14.æ¡ˆä¾‹_å¤©æ°”é¢„æŠ¥-å±•ç¤ºåŸå¸‚å¤©æ°”</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%AE%E6%A0%87-11"><span class="toc-text">ç›®æ ‡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%B2%E8%A7%A3-11"><span class="toc-text">è®²è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%BB%93-12"><span class="toc-text">å°ç»“</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8A%E6%97%A5%E9%87%8D%E7%82%B9-%E5%BF%85%E9%A1%BB%E4%BC%9A"><span class="toc-text">ä»Šæ—¥é‡ç‚¹(å¿…é¡»ä¼š)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BB%8A%E6%97%A5%E4%BD%9C%E4%B8%9A-%E5%BF%85%E5%AE%8C%E6%88%90"><span class="toc-text">ä»Šæ—¥ä½œä¸š(å¿…å®Œæˆ)</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%82%E8%80%83%E6%96%87%E6%A1%A3"><span class="toc-text">å‚è€ƒæ–‡æ¡£</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="solitude fas fa-map"></i><span>æœ€è¿‘å‘å¸ƒ</span></div><div class="aside-list"><a class="aside-list-item" href="/2025/11/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%8A%A0%E5%87%8F%E4%B9%98%E9%99%A4/" title="Untitled"><div class="content"><span class="title" href="/2025/11/08/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/%E5%8A%A0%E5%87%8F%E4%B9%98%E9%99%A4/" title="Untitled">Untitled</span></div></a><a class="aside-list-item" href="/2025/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%89%A9%E7%90%86%E5%B1%82%E8%AF%A6%E7%BB%86%E7%AC%94%E8%AE%B0/" title="Untitled"><div class="content"><span class="title" href="/2025/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E7%89%A9%E7%90%86%E5%B1%82%E8%AF%A6%E7%BB%86%E7%AC%94%E8%AE%B0/" title="Untitled">Untitled</span></div></a><a class="aside-list-item" href="/2025/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E6%A6%82%E8%AE%BA/" title="Untitled"><div class="content"><span class="title" href="/2025/10/29/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C%E7%AC%AC%E4%B8%80%E7%AB%A0%EF%BC%9A%E6%A6%82%E8%AE%BA/" title="Untitled">Untitled</span></div></a><a class="aside-list-item" href="/2025/10/28/roadmap/" title="Untitled"><div class="content"><span class="title" href="/2025/10/28/roadmap/" title="Untitled">Untitled</span></div></a><a class="aside-list-item" href="/2025/10/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91/" title="Untitled"><div class="content"><span class="title" href="/2025/10/27/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/%E5%88%92%E5%88%86%E5%AD%90%E7%BD%91/" title="Untitled">Untitled</span></div></a></div></div></div></div></main><footer id="footer"><div id="st-footer"><div class="footer-group"><div class="footer-title-group"><h3 class="footer-title">å‹é“¾</h3><button class="random-friends-btn" onclick="randomLinksList()" title="å‹é“¾"><i class="solitude fas fa-arrows-rotate"></i></button></div><div class="footer-links" id="friend-links-in-footer"></div></div></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div class="copyright">Â© 2023 - 2025 By<a class="footer-bar-link" href="/" title="woodfish">woodfish</a></div><div class="beian-group"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://hexo.io/" title="æ¡†æ¶ï¼šHexo">æ¡†æ¶ï¼šHexo</a><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/everfu/hexo-theme-solitude" title="ä¸»é¢˜ï¼šSolitude">ä¸»é¢˜ï¼šSolitude</a></div></div><div class="footer-bar-right"></div></div></div><div class="comment-barrage needEndHide"></div></footer></div><div><!-- Critical scripts loaded synchronously--><script src="/js/utils.js?v=3.0.20"></script><script src="/js/main.js?v=3.0.20"></script><!-- Non-critical scripts loaded asynchronously--><script async src="/js/third_party/waterfall.min.js?v=3.0.20"></script><script src="https://cdn.jsdelivr.net/npm/pjax@0.2.8/pjax.min.js"></script><!-- Feature-specific scripts loaded asynchronously--><script defer src="/js/tw_cn.js?v=3.0.20"></script><!-- UI enhancement scripts--><script defer src="https://cdn.jsdelivr.net/npm/node-snackbar@0.1.16/dist/snackbar.min.js"></script><!-- Music player scripts--><!-- Cover color processing scripts--><script>window.paceOptions = {
  restartOnPushState: false
}

utils.addGlobalFn('pjaxSend', () => {
  Pace.restart()
}, 'pace_restart')
</script><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!-- Search functionality--><!-- Right menu functionality--><div class="js-pjax"></div></div><!-- pjax--><script>let pjax = null;

function initPjax() {
    if (typeof Pjax === 'undefined') {
        console.warn('Pjax is not loaded yet, retrying...');
        setTimeout(initPjax, 100);
        return;
    }

    pjax = new Pjax({
        elements: 'a:not([target="_blank"])',
        selectors: ["title","#body-wrap","#site-config","meta[name=\"description\"]",".js-pjax","meta[property^=\"og:\"]","#config-diff",".rs_show",".rs_hide"],
        cacheBust: false,
        analytics: false,
        scrollRestoration: false
    })

    // å°† pjax å®ä¾‹æŒ‚è½½åˆ°å…¨å±€
    window.pjax = pjax;

    document.querySelectorAll('script[data-pjax]').forEach(item => {
        const newScript = document.createElement('script')
        const content = item.text || item.textContent || item.innerHTML || ""
        Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
        newScript.appendChild(document.createTextNode(content))
        item.parentNode.replaceChild(newScript, item)
    })

    document.addEventListener('pjax:complete', () => {
        window.refreshFn()

        document.querySelectorAll('script[data-pjax]').forEach(item => {
            const newScript = document.createElement('script')
            const content = item.text || item.textContent || item.innerHTML || ""
            Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
            newScript.appendChild(document.createTextNode(content))
            item.parentNode.replaceChild(newScript, item)
        })

        GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

    })

    document.addEventListener('pjax:error', (e) => {
        if (e.request.status === 404) {
            pjax.loadUrl('/404.html')
        }
    })
}

// åˆå§‹åŒ– Pjax
if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initPjax);
} else {
    initPjax();
}</script><!-- google adsense--><!-- hexo injector body_end start --><script data-pjax>
  function butterfly_footer_beautify_injector_config(){
    var parent_div_git = document.getElementById('footer-wrap');
    var item_html = '<div id="workboard"></div><p id="ghbdages"><a class="github-badge" target="_blank" href="https://hexo.io/" style="margin-inline:5px" data-title="åšå®¢æ¡†æ¶ä¸ºHexo_v6.2.0" title=""><img src="https://img.shields.io/badge/Frame-Hexo-blue?style=flat&amp;logo=hexo" alt=""/></a><a class="github-badge" target="_blank" href="https://butterfly.js.org/" style="margin-inline:5px" data-title="ä¸»é¢˜ç‰ˆæœ¬Butterfly_v4.3.1" title=""><img src="https://img.shields.io/badge/Theme-Butterfly-6513df?style=flat&amp;logo=bitdefender" alt=""/></a><a class="github-badge" target="_blank" href="https://vercel.com/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œä¸»çº¿è·¯æ‰˜ç®¡äºVercel" title=""><img src="https://img.shields.io/badge/Hosted-Vercel-brightgreen?style=flat&amp;logo=Vercel" alt=""/></a><a class="github-badge" target="_blank" href="https://dashboard.4everland.org/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨å¤šçº¿éƒ¨ç½²ï¼Œå¤‡ç”¨çº¿è·¯æ‰˜ç®¡äº4EVERLAND" title=""><img src="https://img.shields.io/badge/Hosted-4EVERLAND-22DDDD?style=flat&amp;logo=IPFS" alt=""/></a><a class="github-badge" target="_blank" href="https://github.com/" style="margin-inline:5px" data-title="æœ¬ç«™é¡¹ç›®ç”±Githubæ‰˜ç®¡" title=""><img src="https://img.shields.io/badge/Source-Github-d021d6?style=flat&amp;logo=GitHub" alt=""/></a><a class="github-badge" target="_blank" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" style="margin-inline:5px" data-title="æœ¬ç«™é‡‡ç”¨çŸ¥è¯†å…±äº«ç½²å-éå•†ä¸šæ€§ä½¿ç”¨-ç›¸åŒæ–¹å¼å…±äº«4.0å›½é™…è®¸å¯åè®®è¿›è¡Œè®¸å¯" title=""><img src="https://img.shields.io/badge/Copyright-BY--NC--SA%204.0-d42328?style=flat&amp;logo=Claris" alt=""/></a></p>';
    console.log('å·²æŒ‚è½½butterfly_footer_beautify')
    parent_div_git.insertAdjacentHTML("beforeend",item_html)
    }
  var elist = 'null'.split(',');
  var cpage = location.pathname;
  var epage = 'all';
  var flag = 0;

  for (var i=0;i<elist.length;i++){
    if (cpage.includes(elist[i])){
      flag++;
    }
  }

  if ((epage ==='all')&&(flag == 0)){
    butterfly_footer_beautify_injector_config();
  }
  else if (epage === cpage){
    butterfly_footer_beautify_injector_config();
  }
  </script><script async src="/js/runtime.js"></script><!-- hexo injector body_end end --></body></html>
        <script>
            const posts = ["2025/11/08/è®¡ç®—æœºç»„æˆåŸç†/åŠ å‡ä¹˜é™¤/","2025/10/29/è®¡ç®—æœºç½‘ç»œ/ç‰©ç†å±‚è¯¦ç»†ç¬”è®°/","2025/10/29/è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œç¬¬ä¸€ç« ï¼šæ¦‚è®º/","2025/10/28/roadmap/","2025/10/27/è®¡ç®—æœºç½‘ç»œ/åˆ’åˆ†å­ç½‘/","2025/10/27/æœ€é•¿å‰ç¼€åŒ¹é…åŸåˆ™/","2025/10/26/é¢˜è§£/Eé¢˜è¶…è¯¦è§£ï¼šå¸®å“ˆåŸºé±¼ç®—æ ‡ç­¾/","2025/10/26/è®¡ç®—æœºç»„æˆåŸç†/æ•°æ®çš„è¡¨ç¤º/","2025/10/23/è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œç¬¬ä¸‰ç« ï¼šé“¾è·¯å±‚/","2025/10/22/æŒ‡ä»¤ç³»ç»Ÿ/","2025/10/22/é¢˜è§£/F. Beautiful Intervals/","2025/10/21/è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œç¬¬å››ç« ï¼šç½‘ç»œå±‚/","2025/10/21/è®¡ç®—æœºç½‘ç»œ/è®¡ç®—æœºç½‘ç»œç¬¬å››ç« ï¼šç½‘ç»œå±‚ï¼ˆeditï¼‰/","2025/10/04/é¢˜è§£/Day5é¢˜è§£/","2025/09/26/è®¡ç®—æœºç»„æˆåŸç†/è®¡ç®—æœºç»„æˆåŸç†/","2025/09/12/å‰ç«¯/AJAXåŸºç¡€å…¥é—¨æ•™ç¨‹/","2025/09/11/å‰ç«¯/Day04_AJAXè¿›é˜¶/","2025/09/10/å‰ç«¯/Day03_AJAXåŸç†/","2025/09/09/å‰ç«¯/Day02_AJAXç»¼åˆæ¡ˆä¾‹/","2025/09/08/å‰ç«¯/Day01_AJAXå…¥é—¨/","2025/08/25/Linuxè¯¾ç¨‹ç¬”è®°/","2025/08/13/å‰ç«¯/jsæ˜“é”™ç‚¹/","2025/08/11/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ9ï¼‰ï¼šæ·±æµ…æ‹·è´ã€å¼‚å¸¸å¤„ç†ã€this æŒ‡å‘ä¸é˜²æŠ–èŠ‚æµ/","2025/08/03/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ8ï¼‰ï¼šé¢å‘å¯¹è±¡ç¼–ç¨‹ä¸åŸå‹æœºåˆ¶è¯¦è§£/","2025/08/02/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ7ï¼‰ï¼šé¢å‘å¯¹è±¡ä¸å†…ç½®æ„é€ å‡½æ•°/","2025/07/31/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ6ï¼‰ï¼šä½œç”¨åŸŸã€é—­åŒ…ä¸å‡½æ•°è¿›é˜¶/","2025/07/28/å‰ç«¯/Web API å­¦ä¹ ç¬”è®°ï¼ˆ6ï¼‰ï¼šæ­£åˆ™è¡¨è¾¾å¼ä¸è¡¨å•éªŒè¯/","2025/07/27/å‰ç«¯/Web API å­¦ä¹ ç¬”è®°ï¼ˆ5ï¼‰ï¼šBOM æ“ä½œä¸æœ¬åœ°å­˜å‚¨/","2025/07/26/å‰ç«¯/Web API å­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰ï¼šDate å¯¹è±¡ä¸ DOM-èŠ‚ç‚¹æ“ä½œè¦ç‚¹/","2025/07/23/å‰ç«¯/Web API å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰ï¼šäº‹ä»¶æµä¸äº‹ä»¶å§”æ‰˜/","2025/07/22/å‰ç«¯/Web API å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰ï¼šäº‹ä»¶å¤„ç†ä¸-this-æŒ‡å‘/","2025/07/21/å‰ç«¯/Web API å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰ï¼šDOM åŸºç¡€æ“ä½œ/","2025/07/20/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ5ï¼‰ï¼šå¯¹è±¡æ•°æ®ç±»å‹ä¸å†…ç½®æ•°å­¦å¯¹è±¡/","2025/07/19/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰ï¼šå‡½æ•°å°è£…ä¸å¯¹è±¡åŸºç¡€/","2025/07/18/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰ï¼šæ•°ç»„çš„å¢åˆ æ“ä½œæ–¹æ³•è¯¦è§£/","2025/07/17/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰ï¼šè¿ç®—ç¬¦ã€è¯­å¥ä¸ç»¼åˆæ¡ˆä¾‹/","2025/07/17/å‰ç«¯/JavaScript å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰ï¼šåŸºç¡€è¯­æ³•ä¸æ•°æ®ç±»å‹/","2025/07/15/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ12ï¼‰ï¼šå“åº”å¼å¸ƒå±€ä¸ Bootstrap æ¡†æ¶åº”ç”¨/","2025/07/14/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ11ï¼‰ï¼šç§»åŠ¨ Web å¼€å‘ä¹‹ vw é€‚é…ä¸é…·æˆ‘éŸ³ä¹æ¡ˆä¾‹å®è·µ/","2025/07/13/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ10ï¼‰ï¼šç§»åŠ¨ Web å¼€å‘åŸºç¡€ä¸ rem å¸ƒå±€ã€Less é¢„å¤„ç†å™¨/","2025/07/12/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ9ï¼‰ï¼šç§»åŠ¨ Web å¼€å‘ä¹‹ç©ºé—´è½¬æ¢ä¸åŠ¨ç”»æ•ˆæœ/","2025/07/11/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ8ï¼‰ï¼šç§»åŠ¨ Web å¼€å‘ä¹‹å¹³é¢è½¬æ¢ä¸æ¸å˜æ•ˆæœ/","2025/07/10/å‰ç«¯/å°å…”ä»™/","2025/07/08/å‰ç«¯/å­¦æˆåœ¨çº¿/","2025/07/08/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ6ï¼‰ï¼šå°å…”é²œå„¿é¡¹ç›®æ­å»ºåŠåŸºç¡€é…ç½®ï¼ˆç›®å½•ç»“æ„ã€SEO æ ‡ç­¾ã€ç‰ˆå¿ƒè®¾ç½®ï¼‰/","2025/07/04/å‰ç«¯/CSSæˆ‘çš„æ˜“é”™ç‚¹/","2025/07/03/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ7ï¼‰ï¼šCSS ä¼˜å…ˆçº§å åŠ è®¡ç®—è§„åˆ™è¯¦è§£/","2025/07/02/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ5ï¼‰ï¼šå®šä½æ¨¡å¼ã€CSS ç²¾çµã€å­—ä½“å›¾æ ‡åŠè¿‡æ¸¡æ•ˆæœåº”ç”¨/","2025/06/30/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ4ï¼‰ï¼šæµ®åŠ¨å¸ƒå±€ä¸ Flex å¼¹æ€§å¸ƒå±€è¯¦è§£åŠåº”ç”¨æ¡ˆä¾‹/","2025/06/27/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ3ï¼‰ï¼šä¼ªç±»ä¸ä¼ªå…ƒç´ é€‰æ‹©å™¨ã€ç›’å­æ¨¡å‹åŠç›¸å…³ç‰¹æ€§è¯¦è§£/","2025/06/24/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰ï¼šå¤åˆé€‰æ‹©å™¨ã€CSS ç‰¹æ€§åŠèƒŒæ™¯ä¸æ˜¾ç¤ºæ¨¡å¼è®¾ç½®/","2025/06/23/å‰ç«¯/CSS å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰ï¼šå¼•å…¥æ–¹å¼ã€é€‰æ‹©å™¨åŠæ–‡å­—æ ·å¼æ§åˆ¶/","2025/06/23/å‰ç«¯/HTML å­¦ä¹ ç¬”è®°ï¼ˆ2ï¼‰ï¼šåˆ—è¡¨ã€è¡¨æ ¼ã€è¡¨å•åŠå¸ƒå±€æ ‡ç­¾è¯¦è§£/","2025/06/22/å‰ç«¯/HTML å­¦ä¹ ç¬”è®°ï¼ˆ1ï¼‰ï¼šæ ¸å¿ƒæ ‡ç­¾ã€æ–‡æ¡£ç»“æ„åŠå¤šåª’ä½“åº”ç”¨/","2025/06/19/JAVA/JavaæœŸæœ«å¤ä¹ é‡ç‚¹æ˜“é”™ç‚¹/","2025/06/18/æ‚é¡¹/ä¸­å›½è¿‘ä»£å²å¤ä¹ é‡ç‚¹/","2025/06/03/JAVA/Javaçš„final/","2025/06/03/JAVA/Javaçš„ç»§æ‰¿/","2025/06/03/JAVA/Javaçš„å¤šæ€/","2025/05/27/JAVA/Javaçš„Listé›†åˆ/","2025/05/27/JAVA/Javaçš„Collectioné›†åˆ/","2025/05/27/JAVA/Javaçš„åŒ…è£…ç±»/","2025/05/15/JAVA/Javaçš„å†…éƒ¨ç±»/","2025/05/15/JAVA/Javaçš„æŠ½è±¡ä¸æ¥å£ç±»/"];
            function toRandomPost() {
                const randomPost = posts[Math.floor(Math.random() * posts.length)];
                pjax.loadUrl(GLOBAL_CONFIG.root + randomPost);
            }
        </script>